info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module './routes/auth'
Error: Cannot find module './routes/auth'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:12)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module './routes/auth'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:12)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 12:46:56 GMT+0100 (GMT+01:00)","process":{"pid":42540,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":49700864,"heapTotal":31670272,"heapUsed":18225472,"external":18530988}},"os":{"loadavg":[4.64306640625,3.84423828125,3.33154296875],"uptime":749744},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":12,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":11,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/request'
Error: Cannot find module '../models/request'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:7:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/request'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:7:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 12:47:15 GMT+0100 (GMT+01:00)","process":{"pid":42552,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":49881088,"heapTotal":31670272,"heapUsed":18276640,"external":18538857}},"os":{"loadavg":[4.0673828125,3.77099609375,3.31689453125],"uptime":749763},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/routes/message.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/request'
Error: Cannot find module '../models/request'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:7:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/request'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:7:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 12:47:18 GMT+0100 (GMT+01:00)","process":{"pid":42556,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":49766400,"heapTotal":31670272,"heapUsed":18290632,"external":18538857}},"os":{"loadavg":[4.0673828125,3.77099609375,3.31689453125],"uptime":749766},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/routes/message.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/messageConstants'
Error: Cannot find module '../models/messageConstants'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/messageConstants'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 12:47:37 GMT+0100 (GMT+01:00)","process":{"pid":42604,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":49717248,"heapTotal":31145984,"heapUsed":18296088,"external":18538638}},"os":{"loadavg":[3.98583984375,3.7822265625,3.33154296875],"uptime":749785},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":24,"file":"/Users/andrealeo/dev/chat21/chat21-server/routes/message.js","function":null,"line":8,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Unexpected token }
/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:107
});
^

SyntaxError: Unexpected token }
    at new Script (vm.js:85:7)
    at createScript (vm.js:266:10)
    at Object.runInThisContext (vm.js:314:10)
    at Module._compile (internal/modules/cjs/loader.js:698:28)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3) {"error":{},"stack":"/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:107\n});\n^\n\nSyntaxError: Unexpected token }\n    at new Script (vm.js:85:7)\n    at createScript (vm.js:266:10)\n    at Object.runInThisContext (vm.js:314:10)\n    at Module._compile (internal/modules/cjs/loader.js:698:28)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)","exception":true,"date":"Mon Oct 28 2019 12:47:56 GMT+0100 (GMT+01:00)","process":{"pid":42612,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":50003968,"heapTotal":31145984,"heapUsed":18240960,"external":18539180}},"os":{"loadavg":[3.52783203125,3.69677734375,3.3115234375],"uptime":749804},"trace":[{"column":7,"file":"vm.js","function":"new Script","line":85,"method":null,"native":false},{"column":10,"file":"vm.js","function":"createScript","line":266,"method":null,"native":false},{"column":10,"file":"vm.js","function":"Object.runInThisContext","line":314,"method":"runInThisContext","native":false},{"column":28,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":698,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/messageConstants'
Error: Cannot find module '../models/messageConstants'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/messageConstants'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 12:48:10 GMT+0100 (GMT+01:00)","process":{"pid":42631,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":49917952,"heapTotal":31145984,"heapUsed":18288928,"external":18539180}},"os":{"loadavg":[3.6552734375,3.7119140625,3.3232421875],"uptime":749818},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":24,"file":"/Users/andrealeo/dev/chat21/chat21-server/routes/message.js","function":null,"line":8,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/messageConstants'
Error: Cannot find module '../models/messageConstants'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/messageConstants'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 12:48:21 GMT+0100 (GMT+01:00)","process":{"pid":42638,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":49725440,"heapTotal":31145984,"heapUsed":18267760,"external":18539180}},"os":{"loadavg":[3.3330078125,3.638671875,3.3017578125],"uptime":749829},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":24,"file":"/Users/andrealeo/dev/chat21/chat21-server/routes/message.js","function":null,"line":8,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/messageConstants'
Error: Cannot find module '../models/messageConstants'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/messageConstants'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/routes/message.js:8:24)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 12:48:23 GMT+0100 (GMT+01:00)","process":{"pid":42643,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":50401280,"heapTotal":31670272,"heapUsed":18535088,"external":18539180}},"os":{"loadavg":[3.3330078125,3.638671875,3.3017578125],"uptime":749831},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":24,"file":"/Users/andrealeo/dev/chat21/chat21-server/routes/message.js","function":null,"line":8,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: passport is not defined
ReferenceError: passport is not defined
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:89:9)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)
    at internal/main/run_main_module.js:21:11 {"error":{},"stack":"ReferenceError: passport is not defined\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:89:9)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)\n    at internal/main/run_main_module.js:21:11","exception":true,"date":"Mon Oct 28 2019 12:48:40 GMT+0100 (GMT+01:00)","process":{"pid":42709,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51240960,"heapTotal":31670272,"heapUsed":19429776,"external":18610334}},"os":{"loadavg":[4.46923828125,3.84716796875,3.3818359375],"uptime":749848},"trace":[{"column":9,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":89,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":11,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":801,"method":"runMain","native":false},{"column":11,"file":"internal/main/run_main_module.js","function":null,"line":21,"method":null,"native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: passport is not defined
ReferenceError: passport is not defined
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:89:9)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)
    at internal/main/run_main_module.js:21:11 {"error":{},"stack":"ReferenceError: passport is not defined\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:89:9)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)\n    at internal/main/run_main_module.js:21:11","exception":true,"date":"Mon Oct 28 2019 12:48:44 GMT+0100 (GMT+01:00)","process":{"pid":42716,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51412992,"heapTotal":31670272,"heapUsed":19223712,"external":18610334}},"os":{"loadavg":[4.271484375,3.81640625,3.37353515625],"uptime":749852},"trace":[{"column":9,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":89,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":11,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":801,"method":"runMain","native":false},{"column":11,"file":"internal/main/run_main_module.js","function":null,"line":21,"method":null,"native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: auth is not defined
ReferenceError: auth is not defined
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:102:18)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)
    at internal/main/run_main_module.js:21:11 {"error":{},"stack":"ReferenceError: auth is not defined\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:102:18)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)\n    at internal/main/run_main_module.js:21:11","exception":true,"date":"Mon Oct 28 2019 12:49:01 GMT+0100 (GMT+01:00)","process":{"pid":42728,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":50749440,"heapTotal":31145984,"heapUsed":19166496,"external":18610334}},"os":{"loadavg":[4.42626953125,3.87353515625,3.4013671875],"uptime":749869},"trace":[{"column":18,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":102,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":11,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":801,"method":"runMain","native":false},{"column":11,"file":"internal/main/run_main_module.js","function":null,"line":21,"method":null,"native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: auth is not defined
ReferenceError: auth is not defined
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:102:18)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)
    at internal/main/run_main_module.js:21:11 {"error":{},"stack":"ReferenceError: auth is not defined\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/app.js:102:18)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)\n    at internal/main/run_main_module.js:21:11","exception":true,"date":"Mon Oct 28 2019 12:49:03 GMT+0100 (GMT+01:00)","process":{"pid":42732,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51937280,"heapTotal":31145984,"heapUsed":19660872,"external":18645282}},"os":{"loadavg":[4.42626953125,3.87353515625,3.4013671875],"uptime":749871},"trace":[{"column":18,"file":"/Users/andrealeo/dev/chat21/chat21-server/app.js","function":null,"line":102,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":11,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":801,"method":"runMain","native":false},{"column":11,"file":"internal/main/run_main_module.js","function":null,"line":21,"method":null,"native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../websocket/webSocketServer'
Error: Cannot find module '../websocket/webSocketServer'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:39:23)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)
    at internal/main/run_main_module.js:21:11 {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../websocket/webSocketServer'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:39:23)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)\n    at internal/main/run_main_module.js:21:11","exception":true,"date":"Mon Oct 28 2019 12:49:13 GMT+0100 (GMT+01:00)","process":{"pid":42744,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51445760,"heapTotal":31670272,"heapUsed":19139024,"external":18610334}},"os":{"loadavg":[3.9794921875,3.794921875,3.37890625],"uptime":749881},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":23,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":801,"method":"runMain","native":false},{"column":11,"file":"internal/main/run_main_module.js","function":null,"line":21,"method":null,"native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
error: uncaughtException: Cannot find module '../websocket/webSocketServer'
Error: Cannot find module '../websocket/webSocketServer'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:39:23)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)
    at internal/main/run_main_module.js:21:11 {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../websocket/webSocketServer'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:39:23)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)\n    at internal/main/run_main_module.js:21:11","exception":true,"date":"Mon Oct 28 2019 12:49:15 GMT+0100 (GMT+01:00)","process":{"pid":42758,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":50954240,"heapTotal":31670272,"heapUsed":19210728,"external":18610334}},"os":{"loadavg":[4.14111328125,3.8310546875,3.39404296875],"uptime":749883},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":23,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":801,"method":"runMain","native":false},{"column":11,"file":"internal/main/run_main_module.js","function":null,"line":21,"method":null,"native":false}]}
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/tiledesk
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/request'
Error: Cannot find module '../models/request'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:2:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:28:23)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/request'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:2:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:28:23)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:05:16 GMT+0100 (GMT+01:00)","process":{"pid":43692,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":50745344,"heapTotal":31670272,"heapUsed":19170680,"external":18611955}},"os":{"loadavg":[3.21875,3.55419921875,3.59130859375],"uptime":750844},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":2,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":23,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":28,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module '../event/message2Event'
Error: Cannot find module '../event/message2Event'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:28:23)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../event/message2Event'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:28:23)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:05:43 GMT+0100 (GMT+01:00)","process":{"pid":43723,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51400704,"heapTotal":31670272,"heapUsed":19716000,"external":18705609}},"os":{"loadavg":[2.69775390625,3.40234375,3.53466796875],"uptime":750871},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":23,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":28,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module '../models/request'
Error: Cannot find module '../models/request'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/messageEvent.js:3:15)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:3:20)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../models/request'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/messageEvent.js:3:15)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:3:20)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:06:01 GMT+0100 (GMT+01:00)","process":{"pid":43748,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51499008,"heapTotal":31670272,"heapUsed":19719784,"external":18705609}},"os":{"loadavg":[2.60986328125,3.34912109375,3.5126953125],"uptime":750889},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":15,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/messageEvent.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":20,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:06:10 GMT+0100 (GMT+01:00)","process":{"pid":43765,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51490816,"heapTotal":31670272,"heapUsed":19773424,"external":18705609}},"os":{"loadavg":[3.18505859375,3.45166015625,3.546875],"uptime":750898},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:06:30 GMT+0100 (GMT+01:00)","process":{"pid":43779,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":52637696,"heapTotal":34816000,"heapUsed":15232360,"external":17906313}},"os":{"loadavg":[3.734375,3.55224609375,3.580078125],"uptime":750918},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:06:37 GMT+0100 (GMT+01:00)","process":{"pid":43792,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":52445184,"heapTotal":34291712,"heapUsed":15352672,"external":17962167}},"os":{"loadavg":[3.39990234375,3.48486328125,3.5556640625],"uptime":750925},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:06:41 GMT+0100 (GMT+01:00)","process":{"pid":43802,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51625984,"heapTotal":31670272,"heapUsed":19799336,"external":18705609}},"os":{"loadavg":[3.39990234375,3.48486328125,3.5556640625],"uptime":750929},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:06:56 GMT+0100 (GMT+01:00)","process":{"pid":43821,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":52756480,"heapTotal":33767424,"heapUsed":15148016,"external":17866892}},"os":{"loadavg":[3.15087890625,3.42724609375,3.53369140625],"uptime":750944},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:07:03 GMT+0100 (GMT+01:00)","process":{"pid":43833,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51462144,"heapTotal":31670272,"heapUsed":19751936,"external":18705609}},"os":{"loadavg":[2.97998046875,3.3798828125,3.51513671875],"uptime":750951},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:07:28 GMT+0100 (GMT+01:00)","process":{"pid":43877,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":51220480,"heapTotal":31670272,"heapUsed":19742696,"external":18705609}},"os":{"loadavg":[3.2802734375,3.4140625,3.521484375],"uptime":750976},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: Cannot find module 'eventemitter2'
Error: Cannot find module 'eventemitter2'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)
    at Function.Module._load (internal/modules/cjs/loader.js:539:25)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Module.require (internal/modules/cjs/loader.js:667:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'eventemitter2'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:613:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:539:25)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js:7:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)","exception":true,"date":"Mon Oct 28 2019 13:07:29 GMT+0100 (GMT+01:00)","process":{"pid":43881,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":52842496,"heapTotal":34291712,"heapUsed":15030376,"external":17866892}},"os":{"loadavg":[3.2802734375,3.4140625,3.521484375],"uptime":750977},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":613,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":539,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/event/message2Event.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":667,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":20,"method":null,"native":false},{"column":21,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
error: uncaughtException: requestEvent is not defined
ReferenceError: requestEvent is not defined
    at WebSocketServer.init (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:89:7)
    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:29:17)
    at Module._compile (internal/modules/cjs/loader.js:738:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)
    at Module.load (internal/modules/cjs/loader.js:630:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)
    at Function.Module._load (internal/modules/cjs/loader.js:562:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)
    at internal/main/run_main_module.js:21:11 {"error":{},"stack":"ReferenceError: requestEvent is not defined\n    at WebSocketServer.init (/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js:89:7)\n    at Object.<anonymous> (/Users/andrealeo/dev/chat21/chat21-server/bin/www:29:17)\n    at Module._compile (internal/modules/cjs/loader.js:738:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:801:12)\n    at internal/main/run_main_module.js:21:11","exception":true,"date":"Mon Oct 28 2019 13:07:51 GMT+0100 (GMT+01:00)","process":{"pid":43916,"uid":501,"gid":20,"cwd":"/Users/andrealeo/dev/chat21/chat21-server","execPath":"/usr/local/bin/node","version":"v11.10.0","argv":["/usr/local/bin/node","/Users/andrealeo/dev/chat21/chat21-server/bin/www"],"memoryUsage":{"rss":56496128,"heapTotal":36478976,"heapUsed":19812640,"external":18603946}},"os":{"loadavg":[4.40087890625,3.67431640625,3.6123046875],"uptime":750999},"trace":[{"column":7,"file":"/Users/andrealeo/dev/chat21/chat21-server/websocket/webSocketServer.js","function":"WebSocketServer.init","line":89,"method":"init","native":false},{"column":17,"file":"/Users/andrealeo/dev/chat21/chat21-server/bin/www","function":null,"line":29,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":738,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":749,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":630,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":570,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":801,"method":"runMain","native":false},{"column":11,"file":"internal/main/run_main_module.js","function":null,"line":21,"method":null,"native":false}]}
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://localhost/chat21
info: autoIndex: true
error: uncaughtException: failed to connect to server [localhost:27017] on first connect [MongoError: connect ECONNREFUSED 127.0.0.1:27017]
MongoError: failed to connect to server [localhost:27017] on first connect [MongoError: connect ECONNREFUSED 127.0.0.1:27017]
    at Pool.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/topologies/server.js:336:35)
    at Pool.emit (events.js:198:13)
    at Connection.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/connection/pool.js:280:12)
    at Object.onceWrapper (events.js:286:20)
    at Connection.emit (events.js:198:13)
    at Socket.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/connection/connection.js:189:49)
    at Object.onceWrapper (events.js:286:20)
    at Socket.emit (events.js:198:13)
    at emitErrorNT (internal/streams/destroy.js:91:8)
    at emitErrorAndCloseNT (internal/streams/destroy.js:59:3)
    at process._tickCallback (internal/process/next_tick.js:63:19) {"error":{"name":"MongoError","message":"failed to connect to server [localhost:27017] on first connect [MongoError: connect ECONNREFUSED 127.0.0.1:27017]"},"stack":"MongoError: failed to connect to server [localhost:27017] on first connect [MongoError: connect ECONNREFUSED 127.0.0.1:27017]\n    at Pool.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/topologies/server.js:336:35)\n    at Pool.emit (events.js:198:13)\n    at Connection.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/connection/pool.js:280:12)\n    at Object.onceWrapper (events.js:286:20)\n    at Connection.emit (events.js:198:13)\n    at Socket.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/connection/connection.js:189:49)\n    at Object.onceWrapper (events.js:286:20)\n    at Socket.emit (events.js:198:13)\n    at emitErrorNT (internal/streams/destroy.js:91:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:59:3)\n    at process._tickCallback (internal/process/next_tick.js:63:19)","exception":true,"date":"Mon Oct 28 2019 17:44:24 GMT+0000 (Coordinated Universal Time)","process":{"pid":2780,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54378496,"heapTotal":34848768,"heapUsed":16957440,"external":18351869}},"os":{"loadavg":[0.08935546875,0.14013671875,0.087890625],"uptime":434},"trace":[{"column":35,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/topologies/server.js","function":null,"line":336,"method":null,"native":false},{"column":13,"file":"events.js","function":"Pool.emit","line":198,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":280,"method":null,"native":false},{"column":20,"file":"events.js","function":"Object.onceWrapper","line":286,"method":"onceWrapper","native":false},{"column":13,"file":"events.js","function":"Connection.emit","line":198,"method":"emit","native":false},{"column":49,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongodb-core/lib/connection/connection.js","function":null,"line":189,"method":null,"native":false},{"column":20,"file":"events.js","function":"Object.onceWrapper","line":286,"method":"onceWrapper","native":false},{"column":13,"file":"events.js","function":"Socket.emit","line":198,"method":"emit","native":false},{"column":8,"file":"internal/streams/destroy.js","function":"emitErrorNT","line":91,"method":null,"native":false},{"column":3,"file":"internal/streams/destroy.js","function":"emitErrorAndCloseNT","line":59,"method":null,"native":false},{"column":19,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":63,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:45:06 +0000] "GET / HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:45:06 +0000] "GET /favicon.ico HTTP/1.1" 404 24 "http://34.243.13.52:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:45:51 +0000] "GET /public/wstest/index.html HTTP/1.1" 404 37 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:48:52 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:48:59 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:05 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:09 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:14 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:22 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:30 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:35 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:43 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:48 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:49:54 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:01 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:09 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:16 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:24 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:30 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:35 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:42 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:47 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:50:54 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:00 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:06 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:12 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:18 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:25 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:30 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:36 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:43 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:51 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:51:58 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:06 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:11 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:19 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:24 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:30 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:37 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:45 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:52 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:52:59 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:05 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:11 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:19 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:27 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:36 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:44 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:49 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:53:57 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:04 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:09 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:17 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:25 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:34 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:40 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:46 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:51 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:54:59 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:06 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:14 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:19 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:25 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:32 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:39 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:46 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:55:55 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:01 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:09 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:15 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:22 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:30 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:38 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:46 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:52 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:56:57 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:03 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:08 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:15 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:20 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:26 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:33 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:39 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:44 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:50 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:57:57 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:04 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:11 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:19 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:25 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:33 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:40 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:44 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:48 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:58:53 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:00 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:06 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:11 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:16 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:24 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:29 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:38 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:43 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:48 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:17:59:55 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:01 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:06 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:13 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:19 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:23 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:30 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:38 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:44 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:50 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:00:55 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:03 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:11 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:17 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:23 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:31 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:39 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:47 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [28/Oct/2019:18:01:51 +0000] "GET /?token=JWT%20123 HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: server is not defined
ReferenceError: server is not defined
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:28:23)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"ReferenceError: server is not defined\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:28:23)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Oct 28 2019 18:02:21 GMT+0000 (Coordinated Universal Time)","process":{"pid":3047,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55656448,"heapTotal":36466688,"heapUsed":20121096,"external":19182843}},"os":{"loadavg":[0.16015625,0.033203125,0.0107421875],"uptime":1511},"trace":[{"column":23,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":28,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/routes/message.js:46
  retun Message.find({"recipient": req.params.request_id, id_project: req.projectid}).sort({updatedAt: 'asc'}).exec(function(err, messages) { 
        ^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/message.js:46\n  retun Message.find({\"recipient\": req.params.request_id, id_project: req.projectid}).sort({updatedAt: 'asc'}).exec(function(err, messages) { \n        ^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Mon Oct 28 2019 18:24:11 GMT+0000 (Coordinated Universal Time)","process":{"pid":3243,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53628928,"heapTotal":34848768,"heapUsed":15598416,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":2821},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/routes/message.js:46
  retun Message.find({"recipient": req.params.request_id, id_project: req.projectid}).sort({updatedAt: 'asc'}).exec(function(err, messages) { 
        ^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/message.js:46\n  retun Message.find({\"recipient\": req.params.request_id, id_project: req.projectid}).sort({updatedAt: 'asc'}).exec(function(err, messages) { \n        ^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Mon Oct 28 2019 18:24:32 GMT+0000 (Coordinated Universal Time)","process":{"pid":3257,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53964800,"heapTotal":34848768,"heapUsed":15599592,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":2843},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../events/messageEvent'
Error: Cannot find module '../events/messageEvent'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../events/messageEvent'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Oct 28 2019 18:38:16 GMT+0000 (Coordinated Universal Time)","process":{"pid":3400,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53764096,"heapTotal":34848768,"heapUsed":15652504,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":3667},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../events/messageEvent'
Error: Cannot find module '../events/messageEvent'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../events/messageEvent'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Oct 28 2019 18:38:19 GMT+0000 (Coordinated Universal Time)","process":{"pid":3414,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53792768,"heapTotal":34848768,"heapUsed":15640512,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":3670},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../events/messageEvent'
Error: Cannot find module '../events/messageEvent'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../events/messageEvent'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Oct 28 2019 18:38:44 GMT+0000 (Coordinated Universal Time)","process":{"pid":3428,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54673408,"heapTotal":34848768,"heapUsed":15637616,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":3695},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../event/message2Event'
Error: Cannot find module '../event/message2Event'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../event/message2Event'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Oct 28 2019 18:39:14 GMT+0000 (Coordinated Universal Time)","process":{"pid":3465,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54681600,"heapTotal":34848768,"heapUsed":17041432,"external":18462173}},"os":{"loadavg":[0,0,0],"uptime":3725},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../event/message2Event'
Error: Cannot find module '../event/message2Event'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../event/message2Event'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Oct 28 2019 18:39:22 GMT+0000 (Coordinated Universal Time)","process":{"pid":3479,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54358016,"heapTotal":34848768,"heapUsed":17039280,"external":18462173}},"os":{"loadavg":[0.080078125,0.0166015625,0.00537109375],"uptime":3733},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../event/messageEvent'
Error: Cannot find module '../event/messageEvent'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/events/message2Event.js:3:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:3:21)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../event/messageEvent'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/events/message2Event.js:3:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:3:21)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Oct 28 2019 18:39:32 GMT+0000 (Coordinated Universal Time)","process":{"pid":3497,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53415936,"heapTotal":34848768,"heapUsed":17053416,"external":18462173}},"os":{"loadavg":[0.06689453125,0.015625,0.00439453125],"uptime":3743},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/events/message2Event.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token }
/home/ubuntu/dev/chat21-server/events/messageEvent.js:51
});
^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:51\n});\n^\n\nSyntaxError: Unexpected token }\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Mon Oct 28 2019 18:47:12 GMT+0000 (Coordinated Universal Time)","process":{"pid":3595,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53690368,"heapTotal":34848768,"heapUsed":15649632,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":4203},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token }
/home/ubuntu/dev/chat21-server/events/messageEvent.js:51
});
^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:51\n});\n^\n\nSyntaxError: Unexpected token }\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Mon Oct 28 2019 18:47:32 GMT+0000 (Coordinated Universal Time)","process":{"pid":3613,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54382592,"heapTotal":34848768,"heapUsed":15649600,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":4223},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Mon Oct 28 2019 18:48:08 GMT+0000 (Coordinated Universal Time)","process":{"pid":3629,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54005760,"heapTotal":34848768,"heapUsed":15648208,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":4259},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Mon Oct 28 2019 18:48:51 GMT+0000 (Coordinated Universal Time)","process":{"pid":3643,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53972992,"heapTotal":34848768,"heapUsed":15650056,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":4302},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Mon Oct 28 2019 18:48:59 GMT+0000 (Coordinated Universal Time)","process":{"pid":3657,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54108160,"heapTotal":34848768,"heapUsed":15653208,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":4310},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Mon Oct 28 2019 18:49:22 GMT+0000 (Coordinated Universal Time)","process":{"pid":3671,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54120448,"heapTotal":34848768,"heapUsed":15652144,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":4333},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:38:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":2594,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53657600,"heapTotal":34324480,"heapUsed":15916256,"external":18297099}},"os":{"loadavg":[0.6298828125,0.259765625,0.09765625],"uptime":80},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:40:30 GMT+0000 (Coordinated Universal Time)","process":{"pid":2637,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53673984,"heapTotal":34848768,"heapUsed":15650680,"external":18297099}},"os":{"loadavg":[0.107421875,0.17822265625,0.083984375],"uptime":188},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: missing ) after argument list
/home/ubuntu/dev/chat21-server/routes/message.js:54
    }
    ^

SyntaxError: missing ) after argument list
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/message.js:54\n    }\n    ^\n\nSyntaxError: missing ) after argument list\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Tue Oct 29 2019 17:41:16 GMT+0000 (Coordinated Universal Time)","process":{"pid":2668,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54124544,"heapTotal":34848768,"heapUsed":15601616,"external":18297099}},"os":{"loadavg":[0.04931640625,0.1513671875,0.07958984375],"uptime":234},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:41:47 GMT+0000 (Coordinated Universal Time)","process":{"pid":2702,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54173696,"heapTotal":34848768,"heapUsed":15648976,"external":18297099}},"os":{"loadavg":[0.0283203125,0.1357421875,0.07666015625],"uptime":265},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected end of input
/home/ubuntu/dev/chat21-server/routes/message.js:60
module.exports = router;
                       ^

SyntaxError: Unexpected end of input
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/message.js:60\nmodule.exports = router;\n                       ^\n\nSyntaxError: Unexpected end of input\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Tue Oct 29 2019 17:42:39 GMT+0000 (Coordinated Universal Time)","process":{"pid":2736,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53809152,"heapTotal":34848768,"heapUsed":15598568,"external":18297099}},"os":{"loadavg":[0.04443359375,0.125,0.0771484375],"uptime":317},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:43:07 GMT+0000 (Coordinated Universal Time)","process":{"pid":2763,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53395456,"heapTotal":34848768,"heapUsed":15648920,"external":18297099}},"os":{"loadavg":[0.10595703125,0.12841796875,0.080078125],"uptime":345},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:45:36 GMT+0000 (Coordinated Universal Time)","process":{"pid":2791,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53440512,"heapTotal":34848768,"heapUsed":15650936,"external":18297099}},"os":{"loadavg":[0.00634765625,0.07373046875,0.06591796875],"uptime":494},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });                 
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });                 \n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:53:27 GMT+0000 (Coordinated Universal Time)","process":{"pid":2845,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53919744,"heapTotal":34848768,"heapUsed":15647936,"external":18297099}},"os":{"loadavg":[0,0.01123046875,0.02587890625],"uptime":965},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:48
   });
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:48\n   });\n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:54:21 GMT+0000 (Coordinated Universal Time)","process":{"pid":2880,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54525952,"heapTotal":34848768,"heapUsed":15650504,"external":18297099}},"os":{"loadavg":[0.03271484375,0.02294921875,0.0263671875],"uptime":1019},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:51
   });
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:51\n   });\n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:54:45 GMT+0000 (Coordinated Universal Time)","process":{"pid":2907,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53751808,"heapTotal":34848768,"heapUsed":15649056,"external":18297099}},"os":{"loadavg":[0.0205078125,0.0205078125,0.02392578125],"uptime":1043},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token }
/home/ubuntu/dev/chat21-server/events/messageEvent.js:55
});
^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:55\n});\n^\n\nSyntaxError: Unexpected token }\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:55:27 GMT+0000 (Coordinated Universal Time)","process":{"pid":2961,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53641216,"heapTotal":34848768,"heapUsed":15649240,"external":18297099}},"os":{"loadavg":[0.0087890625,0.0166015625,0.02001953125],"uptime":1085},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: listen EADDRINUSE: address already in use :::3000
Error: listen EADDRINUSE: address already in use :::3000
    at Server.setupListenHandle [as _listen2] (net.js:1280:14)
    at listenInCluster (net.js:1328:12)
    at Server.listen (net.js:1415:7)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:37:27)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","address":"::","port":3000},"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (net.js:1280:14)\n    at listenInCluster (net.js:1328:12)\n    at Server.listen (net.js:1415:7)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:37:27)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Tue Oct 29 2019 17:57:10 GMT+0000 (Coordinated Universal Time)","process":{"pid":2988,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55943168,"heapTotal":36466688,"heapUsed":20471424,"external":19199227}},"os":{"loadavg":[0,0.00634765625,0.009765625],"uptime":1188},"trace":[{"column":14,"file":"net.js","function":"Server.setupListenHandle [as _listen2]","line":1280,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"net.js","function":"listenInCluster","line":1328,"method":null,"native":false},{"column":7,"file":"net.js","function":"Server.listen","line":1415,"method":"listen","native":false},{"column":27,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":37,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token }
/home/ubuntu/dev/chat21-server/events/messageEvent.js:57
});
^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:57\n});\n^\n\nSyntaxError: Unexpected token }\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:57:35 GMT+0000 (Coordinated Universal Time)","process":{"pid":3015,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53723136,"heapTotal":34848768,"heapUsed":15648048,"external":18297099}},"os":{"loadavg":[0,0.00390625,0.00732421875],"uptime":1213},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:51
   });
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:51\n   });\n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 17:59:26 GMT+0000 (Coordinated Universal Time)","process":{"pid":3043,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54206464,"heapTotal":34848768,"heapUsed":15652152,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":1324},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:50
   });
    ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:50\n   });\n    ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 18:02:20 GMT+0000 (Coordinated Universal Time)","process":{"pid":3071,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53788672,"heapTotal":34848768,"heapUsed":15647600,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":1498},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token }
/home/ubuntu/dev/chat21-server/events/messageEvent.js:45
});
^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:45\n});\n^\n\nSyntaxError: Unexpected token }\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 18:02:53 GMT+0000 (Coordinated Universal Time)","process":{"pid":3099,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53723136,"heapTotal":34848768,"heapUsed":15646848,"external":18297099}},"os":{"loadavg":[0.16015625,0.033203125,0.0107421875],"uptime":1531},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token }
/home/ubuntu/dev/chat21-server/events/messageEvent.js:51
});
^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:51\n});\n^\n\nSyntaxError: Unexpected token }\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 18:03:28 GMT+0000 (Coordinated Universal Time)","process":{"pid":3126,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53415936,"heapTotal":34848768,"heapUsed":15649000,"external":18297099}},"os":{"loadavg":[0.16796875,0.044921875,0.01318359375],"uptime":1566},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Invalid or unexpected token
/home/ubuntu/dev/chat21-server/events/messageEvent.js:28
/* 
^^^

SyntaxError: Invalid or unexpected token
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:28\n/* \n^^^\n\nSyntaxError: Invalid or unexpected token\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Tue Oct 29 2019 18:04:23 GMT+0000 (Coordinated Universal Time)","process":{"pid":3153,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53526528,"heapTotal":34848768,"heapUsed":15648608,"external":18297099}},"os":{"loadavg":[0.14599609375,0.05126953125,0.013671875],"uptime":1621},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: listen EADDRINUSE: address already in use :::3000
Error: listen EADDRINUSE: address already in use :::3000
    at Server.setupListenHandle [as _listen2] (net.js:1280:14)
    at listenInCluster (net.js:1328:12)
    at Server.listen (net.js:1415:7)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:37:27)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","address":"::","port":3000},"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (net.js:1280:14)\n    at listenInCluster (net.js:1328:12)\n    at Server.listen (net.js:1415:7)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:37:27)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Tue Oct 29 2019 18:04:34 GMT+0000 (Coordinated Universal Time)","process":{"pid":3180,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56270848,"heapTotal":36466688,"heapUsed":20469640,"external":19199227}},"os":{"loadavg":[0.123046875,0.04931640625,0.0126953125],"uptime":1632},"trace":[{"column":14,"file":"net.js","function":"Server.setupListenHandle [as _listen2]","line":1280,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"net.js","function":"listenInCluster","line":1328,"method":null,"native":false},{"column":7,"file":"net.js","function":"Server.listen","line":1415,"method":"listen","native":false},{"column":27,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":37,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: ::ffff:91.81.98.86 - - [29/Oct/2019:18:05:33 +0000] "GET / HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: ::ffff:91.81.98.86 - - [29/Oct/2019:18:05:33 +0000] "GET /favicon.ico HTTP/1.1" 404 24 "http://63.35.216.133:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: ::ffff:91.81.98.86 - - [30/Oct/2019:17:44:40 +0000] "GET /favicon.ico HTTP/1.1" 404 24 "http://52.50.195.23:3000/wstest/index.html" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: ::ffff:34.234.214.93 - - [30/Oct/2019:17:52:08 +0000] "POST /messages HTTP/1.1" 500 705 "-" "-"

info: ::ffff:34.234.214.93 - - [30/Oct/2019:17:53:59 +0000] "POST /messages HTTP/1.1" 500 705 "-" "-"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: Conversation is not defined
ReferenceError: Conversation is not defined
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:29:26)
    at MessageEvent.emit (events.js:203:15)
    at /home/ubuntu/dev/chat21-server/routes/message.js:36:18
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: Conversation is not defined\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:29:26)\n    at MessageEvent.emit (events.js:203:15)\n    at /home/ubuntu/dev/chat21-server/routes/message.js:36:18\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Wed Oct 30 2019 17:58:22 GMT+0000 (Coordinated Universal Time)","process":{"pid":3643,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":62652416,"heapTotal":38039552,"heapUsed":23886288,"external":19793055}},"os":{"loadavg":[0.009765625,0.02099609375,0.0322265625],"uptime":958},"trace":[{"column":26,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":29,"method":null,"native":false},{"column":15,"file":"events.js","function":"MessageEvent.emit","line":203,"method":"emit","native":false},{"column":18,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":36,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: savedMessage is not defined
ReferenceError: savedMessage is not defined
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:29:199)
    at MessageEvent.emit (events.js:203:15)
    at /home/ubuntu/dev/chat21-server/routes/message.js:36:18
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: savedMessage is not defined\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:29:199)\n    at MessageEvent.emit (events.js:203:15)\n    at /home/ubuntu/dev/chat21-server/routes/message.js:36:18\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Wed Oct 30 2019 17:59:11 GMT+0000 (Coordinated Universal Time)","process":{"pid":3666,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":63115264,"heapTotal":38039552,"heapUsed":23923160,"external":19793055}},"os":{"loadavg":[0.0029296875,0.01611328125,0.02734375],"uptime":1007},"trace":[{"column":199,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":29,"method":null,"native":false},{"column":15,"file":"events.js","function":"MessageEvent.emit","line":203,"method":"emit","native":false},{"column":18,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":36,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9cfba659c650e648fd478","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"direct","_id":"5db9cfba659c650e648fd478","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","createdAt":"2019-10-30T18:00:26.983Z","updatedAt":"2019-10-30T18:00:26.983Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:00:27 +0000] "POST /messages HTTP/1.1" 200 280 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d008f3b85a0e88866b67","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"direct","_id":"5db9d008f3b85a0e88866b67","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","createdAt":"2019-10-30T18:01:44.967Z","updatedAt":"2019-10-30T18:01:44.967Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:01:45 +0000] "POST /messages HTTP/1.1" 200 280 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d0c5e6e8f20ead0db2ef","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d0c5e6e8f20ead0db2ef","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","createdAt":"2019-10-30T18:04:53.423Z","updatedAt":"2019-10-30T18:04:53.423Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:04:53 +0000] "POST /messages HTTP/1.1" 200 302 "-" "curl/7.58.0"

info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d0f6e6e8f20ead0db2f1","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d0f6e6e8f20ead0db2f1","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","createdAt":"2019-10-30T18:05:42.023Z","updatedAt":"2019-10-30T18:05:42.023Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:05:42 +0000] "POST /messages HTTP/1.1" 200 303 "-" "curl/7.58.0"

info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d125e6e8f20ead0db2f3","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d125e6e8f20ead0db2f3","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","createdAt":"2019-10-30T18:06:29.848Z","updatedAt":"2019-10-30T18:06:29.848Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:06:29 +0000] "POST /messages HTTP/1.1" 200 303 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token :
/home/ubuntu/dev/chat21-server/routes/message.js:19
    sender_id: req.body.sender_id,
             ^

SyntaxError: Unexpected token :
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/message.js:19\n    sender_id: req.body.sender_id,\n             ^\n\nSyntaxError: Unexpected token :\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Wed Oct 30 2019 18:10:25 GMT+0000 (Coordinated Universal Time)","process":{"pid":3839,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53841920,"heapTotal":34848768,"heapUsed":15612000,"external":18297099}},"os":{"loadavg":[0.0224609375,0.009765625,0],"uptime":1681},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d2895e1bff0f16924ea5","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d2895e1bff0f16924ea5","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"73f86008-3c9a-48eb-b46f-37ba656656ff","createdAt":"2019-10-30T18:12:25.048Z","updatedAt":"2019-10-30T18:12:25.048Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:12:25 +0000] "POST /messages HTTP/1.1" 200 355 "-" "curl/7.58.0"

info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d2ac5e1bff0f16924ea7","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d2ac5e1bff0f16924ea7","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"326a62c2-7ee8-4869-aa6b-d6a34d795296","createdAt":"2019-10-30T18:13:00.810Z","updatedAt":"2019-10-30T18:13:00.810Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:13:00 +0000] "POST /messages HTTP/1.1" 200 355 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d467298f3c0f7bee59da","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d467298f3c0f7bee59da","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"f9e0e157-e3d2-4099-a882-592cf29c064e","createdAt":"2019-10-30T18:20:23.817Z","updatedAt":"2019-10-30T18:20:23.817Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:20:23 +0000] "POST /messages HTTP/1.1" 200 355 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d6f640419b0f9a565633","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d6f640419b0f9a565633","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"0e966534-58d8-4857-8f6b-d54e6be3bc38","createdAt":"2019-10-30T18:31:18.492Z","updatedAt":"2019-10-30T18:31:18.492Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:31:18 +0000] "POST /messages HTTP/1.1" 200 355 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:38:00 +0000] "POST /messages HTTP/1.1" 500 424 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5db9d8e072cf2310108faa65","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5db9d8e072cf2310108faa65","status":"100","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"51074dc8-d69c-4f96-bf0d-24025dfa0aca","createdAt":"2019-10-30T18:39:28.132Z","updatedAt":"2019-10-30T18:39:28.132Z","__v":0}}
info: ::ffff:127.0.0.1 - - [30/Oct/2019:18:39:28 +0000] "POST /messages HTTP/1.1" 200 354 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: missing ) after argument list
/home/ubuntu/dev/chat21-server/events/messageEvent.js:41
}
^

SyntaxError: missing ) after argument list
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:41\n}\n^\n\nSyntaxError: missing ) after argument list\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Thu Oct 31 2019 17:58:07 GMT+0000 (Coordinated Universal Time)","process":{"pid":2440,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54161408,"heapTotal":34848768,"heapUsed":15809304,"external":18297099}},"os":{"loadavg":[0.16015625,0.06787109375,0.0498046875],"uptime":570},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected end of input
/home/ubuntu/dev/chat21-server/events/messageEvent.js:81
module.exports = messageEvent;
                             ^

SyntaxError: Unexpected end of input
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:81\nmodule.exports = messageEvent;\n                             ^\n\nSyntaxError: Unexpected end of input\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Thu Oct 31 2019 17:58:26 GMT+0000 (Coordinated Universal Time)","process":{"pid":2455,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53985280,"heapTotal":34848768,"heapUsed":15669152,"external":18297099}},"os":{"loadavg":[0.12353515625,0.0634765625,0.04833984375],"uptime":590},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb20df85a10f09a6b6454c","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"modify","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"timelineOf":true},"require":{"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb20df85a10f09a6b6454c","status":"100","timelineOf":"clone","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"991729a4-0097-4357-b656-30ca01c2abbe","createdAt":"2019-10-31T17:58:55.775Z","updatedAt":"2019-10-31T17:58:55.775Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:17:58:55 +0000] "POST /messages HTTP/1.1" 200 356 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb2388c4fb5b0a320304be","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2388c4fb5b0a320304be","status":"100","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"7a9f7f61-28e7-464a-93c7-7d253095ce57","createdAt":"2019-10-31T18:10:16.573Z","updatedAt":"2019-10-31T18:10:16.573Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:10:16 +0000] "POST /messages HTTP/1.1" 200 354 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb239f2e47750a4373bc7d","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb239f2e47750a4373bc7d","status":"100","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"2684960f-3513-45b7-a160-f0e9ec5e3f69","createdAt":"2019-10-31T18:10:39.953Z","updatedAt":"2019-10-31T18:10:39.953Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:10:40 +0000] "POST /messages HTTP/1.1" 200 354 "-" "curl/7.58.0"

info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb23a82e47750a4373bc7f","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb23a82e47750a4373bc7f","status":"100","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"e59f18b5-359e-445f-abb7-8790bd9fd8fb","createdAt":"2019-10-31T18:10:48.288Z","updatedAt":"2019-10-31T18:10:48.288Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:10:48 +0000] "POST /messages HTTP/1.1" 200 354 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb23d64b713c0a565ee991","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb23d64b713c0a565ee991","status":"100","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"392403ff-d0e6-430c-92df-e29d516502d6","createdAt":"2019-10-31T18:11:34.689Z","updatedAt":"2019-10-31T18:11:34.689Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:11:34 +0000] "POST /messages HTTP/1.1" 200 354 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb23f9641dc60a6784da24","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb23f9641dc60a6784da24","status":"100","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"821bce70-f537-42c8-b600-fd7a860fb31c","createdAt":"2019-10-31T18:12:09.888Z","updatedAt":"2019-10-31T18:12:09.888Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:12:09 +0000] "POST /messages HTTP/1.1" 200 354 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/models/messageConstants.js:6
        DELIVERED : "delivered", //delivered to recipient timeline
        ^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:8:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/models/messageConstants.js:6\n        DELIVERED : \"delivered\", //delivered to recipient timeline\n        ^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:8:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Thu Oct 31 2019 18:14:16 GMT+0000 (Coordinated Universal Time)","process":{"pid":2719,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53637120,"heapTotal":34848768,"heapUsed":15653952,"external":18297099}},"os":{"loadavg":[0.0029296875,0.0009765625,0],"uptime":1540},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":8,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb248fdb4ce70aae73de1d","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb248fdb4ce70aae73de1d","status":"sent","timelineOf":"123","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"a63aca91-b480-44e7-bd81-4759bca13977","createdAt":"2019-10-31T18:14:39.032Z","updatedAt":"2019-10-31T18:14:39.032Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:14:39 +0000] "POST /messages HTTP/1.1" 200 355 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb24cf29b5050abf0fe7bb","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"timelineOf":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb24cf29b5050abf0fe7bb","status":"delivered","timelineOf":"clone","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"ed344590-3bf5-4eef-ad80-3c99e6f2984f","createdAt":"2019-10-31T18:15:43.471Z","updatedAt":"2019-10-31T18:15:43.471Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:15:43 +0000] "POST /messages HTTP/1.1" 200 362 "-" "curl/7.58.0"

info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb24cf29b5050abf0fe7bb","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","timelineOf":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb24cf29b5050abf0fe7bb","status":"delivered","timelineOf":"clone","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"ed344590-3bf5-4eef-ad80-3c99e6f2984f","createdAt":"2019-10-31T18:15:43.471Z","updatedAt":"2019-10-31T18:15:43.570Z","__v":0}}
info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb24d829b5050abf0fe7be","wasPopulated":false,"activePaths":{"paths":{"timelineOf":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"timelineOf":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb24d829b5050abf0fe7be","status":"delivered","timelineOf":"clone","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"bd60fa6a-d020-4b8c-b738-5b5ed286a575","createdAt":"2019-10-31T18:15:52.087Z","updatedAt":"2019-10-31T18:15:52.087Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:15:52 +0000] "POST /messages HTTP/1.1" 200 362 "-" "curl/7.58.0"

info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb24d829b5050abf0fe7be","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","timelineOf":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"timelineOf":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb24d829b5050abf0fe7be","status":"delivered","timelineOf":"clone","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"bd60fa6a-d020-4b8c-b738-5b5ed286a575","createdAt":"2019-10-31T18:15:52.087Z","updatedAt":"2019-10-31T18:15:52.179Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN/bceafc7d-80e2-4964-a28b-9ffebb1d8909
info: messageEvent.emit
info: path: /apps/123/users/undefined/messages/123/56d9e521-5f7d-400c-9dce-4b142f04c7ad
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb2812565a2b0b56c3c170","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2812565a2b0b56c3c170","status":"delivered","path":"/apps/123/users/undefined/messages/123/56d9e521-5f7d-400c-9dce-4b142f04c7ad","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"56d9e521-5f7d-400c-9dce-4b142f04c7ad","createdAt":"2019-10-31T18:29:38.008Z","updatedAt":"2019-10-31T18:29:38.008Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:29:38 +0000] "POST /messages HTTP/1.1" 200 426 "-" "curl/7.58.0"

info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb2812565a2b0b56c3c170","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2812565a2b0b56c3c170","status":"delivered","path":"/apps/123/users/undefined/messages/123/56d9e521-5f7d-400c-9dce-4b142f04c7ad","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"56d9e521-5f7d-400c-9dce-4b142f04c7ad","createdAt":"2019-10-31T18:29:38.008Z","updatedAt":"2019-10-31T18:29:38.112Z","__v":0}}
info: path: /apps/123/users/123/messages/RFN/6dcbeb76-c8e4-45f7-b0f8-290f8e16a220
info: messageEvent.emit
info: path: /apps/123/users/undefined/messages/123/8f438951-1807-494d-8a60-791dd9847423
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb281c565a2b0b56c3c173","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb281c565a2b0b56c3c173","status":"delivered","path":"/apps/123/users/undefined/messages/123/8f438951-1807-494d-8a60-791dd9847423","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"8f438951-1807-494d-8a60-791dd9847423","createdAt":"2019-10-31T18:29:48.115Z","updatedAt":"2019-10-31T18:29:48.115Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:29:48 +0000] "POST /messages HTTP/1.1" 200 426 "-" "curl/7.58.0"

info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb281c565a2b0b56c3c173","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb281c565a2b0b56c3c173","status":"delivered","path":"/apps/123/users/undefined/messages/123/8f438951-1807-494d-8a60-791dd9847423","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"8f438951-1807-494d-8a60-791dd9847423","createdAt":"2019-10-31T18:29:48.115Z","updatedAt":"2019-10-31T18:29:48.202Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN/de08542a-d4e9-4ef6-b721-e3561cc2b164
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/123/b713b3f2-76aa-47e8-8efc-e3446ed7a965
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb2845732cc40b69c94e58","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2845732cc40b69c94e58","status":"delivered","path":"/apps/123/users/RFN/messages/123/b713b3f2-76aa-47e8-8efc-e3446ed7a965","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"b713b3f2-76aa-47e8-8efc-e3446ed7a965","createdAt":"2019-10-31T18:30:29.482Z","updatedAt":"2019-10-31T18:30:29.482Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:30:29 +0000] "POST /messages HTTP/1.1" 200 420 "-" "curl/7.58.0"

info: messageEvent.emit
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb2845732cc40b69c94e58","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2845732cc40b69c94e58","status":"delivered","path":"/apps/123/users/RFN/messages/123/b713b3f2-76aa-47e8-8efc-e3446ed7a965","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"b713b3f2-76aa-47e8-8efc-e3446ed7a965","createdAt":"2019-10-31T18:30:29.482Z","updatedAt":"2019-10-31T18:30:29.585Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN/11683b92-f786-45ea-8968-c83375fc8859
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/123/8bb2253b-ba2f-4cbb-883d-939a0946f646
info: create conv: 
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb28939bf6d40b8887f9f9","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb28939bf6d40b8887f9f9","status":"delivered","path":"/apps/123/users/RFN/messages/123/8bb2253b-ba2f-4cbb-883d-939a0946f646","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"8bb2253b-ba2f-4cbb-883d-939a0946f646","createdAt":"2019-10-31T18:31:47.601Z","updatedAt":"2019-10-31T18:31:47.601Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:31:47 +0000] "POST /messages HTTP/1.1" 200 420 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv: 
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb28939bf6d40b8887f9f9","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb28939bf6d40b8887f9f9","status":"delivered","path":"/apps/123/users/RFN/messages/123/8bb2253b-ba2f-4cbb-883d-939a0946f646","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"8bb2253b-ba2f-4cbb-883d-939a0946f646","createdAt":"2019-10-31T18:31:47.601Z","updatedAt":"2019-10-31T18:31:47.709Z","__v":0}}
info: path: /apps/123/users/123/messages/RFN/ec6b0676-74e5-448e-ac88-ed98dc4ef2d0
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/123/9b3e48d6-20eb-4ec4-8cd6-0595c71cb5b6
info: create conv: 
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb289f9bf6d40b8887f9fc","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb289f9bf6d40b8887f9fc","status":"delivered","path":"/apps/123/users/RFN/messages/123/9b3e48d6-20eb-4ec4-8cd6-0595c71cb5b6","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"9b3e48d6-20eb-4ec4-8cd6-0595c71cb5b6","createdAt":"2019-10-31T18:31:59.530Z","updatedAt":"2019-10-31T18:31:59.530Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:31:59 +0000] "POST /messages HTTP/1.1" 200 420 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv: 
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb289f9bf6d40b8887f9fc","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb289f9bf6d40b8887f9fc","status":"delivered","path":"/apps/123/users/RFN/messages/123/9b3e48d6-20eb-4ec4-8cd6-0595c71cb5b6","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"9b3e48d6-20eb-4ec4-8cd6-0595c71cb5b6","createdAt":"2019-10-31T18:31:59.530Z","updatedAt":"2019-10-31T18:31:59.613Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN/ada73c95-d4c9-401f-b557-74f2f4a00068
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/123/444694d1-4e4b-42cc-806f-84b7c1e073e0
info: create conv: 
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb28c1c54a870b9fab52d8","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb28c1c54a870b9fab52d8","status":"delivered","path":"/apps/123/users/RFN/messages/123/444694d1-4e4b-42cc-806f-84b7c1e073e0","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"444694d1-4e4b-42cc-806f-84b7c1e073e0","createdAt":"2019-10-31T18:32:33.280Z","updatedAt":"2019-10-31T18:32:33.280Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:32:33 +0000] "POST /messages HTTP/1.1" 200 420 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv: 
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb28c1c54a870b9fab52d8","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb28c1c54a870b9fab52d8","status":"delivered","path":"/apps/123/users/RFN/messages/123/444694d1-4e4b-42cc-806f-84b7c1e073e0","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"444694d1-4e4b-42cc-806f-84b7c1e073e0","createdAt":"2019-10-31T18:32:33.280Z","updatedAt":"2019-10-31T18:32:33.380Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN/2ec54128-617f-4fd1-99ca-da77582614e4
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/123/909fbbf9-03bb-4b23-a2bb-3d2adf7a75ff
info: create conv for msg  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb291ddd2c2e0bc01cb610","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb291ddd2c2e0bc01cb610","status":"delivered","path":"/apps/123/users/RFN/messages/123/909fbbf9-03bb-4b23-a2bb-3d2adf7a75ff","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"909fbbf9-03bb-4b23-a2bb-3d2adf7a75ff","createdAt":"2019-10-31T18:34:05.964Z","updatedAt":"2019-10-31T18:34:05.964Z","__v":0}}
error: uncaughtException: timelineOf is not defined
ReferenceError: timelineOf is not defined
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:97:29)
    at MessageEvent.emit (events.js:203:15)
    at /home/ubuntu/dev/chat21-server/routes/message.js:42:18
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: timelineOf is not defined\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:97:29)\n    at MessageEvent.emit (events.js:203:15)\n    at /home/ubuntu/dev/chat21-server/routes/message.js:42:18\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Thu Oct 31 2019 18:34:06 GMT+0000 (Coordinated Universal Time)","process":{"pid":3008,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":62935040,"heapTotal":38039552,"heapUsed":24584624,"external":19813189}},"os":{"loadavg":[0.0068359375,0.0166015625,0],"uptime":2729},"trace":[{"column":29,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":97,"method":null,"native":false},{"column":15,"file":"events.js","function":"MessageEvent.emit","line":203,"method":"emit","native":false},{"column":18,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":42,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN/4a29356b-6c95-4484-9d79-3e327d885aa2
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/123/05a50239-eec7-4db3-84bf-e1d102150961
info: create conv for msg  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb293d06eb250bd186ad4e","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb293d06eb250bd186ad4e","status":"delivered","path":"/apps/123/users/RFN/messages/123/05a50239-eec7-4db3-84bf-e1d102150961","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"05a50239-eec7-4db3-84bf-e1d102150961","createdAt":"2019-10-31T18:34:37.009Z","updatedAt":"2019-10-31T18:34:37.009Z","__v":0}}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb293d06eb250bd186ad4e","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb293d06eb250bd186ad4e","status":"delivered","path":"/apps/123/users/RFN/messages/123/05a50239-eec7-4db3-84bf-e1d102150961","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"05a50239-eec7-4db3-84bf-e1d102150961","createdAt":"2019-10-31T18:34:37.009Z","updatedAt":"2019-10-31T18:34:37.009Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:34:37 +0000] "POST /messages HTTP/1.1" 200 420 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb293d06eb250bd186ad4e","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb293d06eb250bd186ad4e","status":"delivered","path":"/apps/123/users/RFN/messages/123/05a50239-eec7-4db3-84bf-e1d102150961","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"05a50239-eec7-4db3-84bf-e1d102150961","createdAt":"2019-10-31T18:34:37.009Z","updatedAt":"2019-10-31T18:34:37.105Z","__v":0}}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb293d06eb250bd186ad4e","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb293d06eb250bd186ad4e","status":"delivered","path":"/apps/123/users/RFN/messages/123/05a50239-eec7-4db3-84bf-e1d102150961","createdBy":"123","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"05a50239-eec7-4db3-84bf-e1d102150961","createdAt":"2019-10-31T18:34:37.009Z","updatedAt":"2019-10-31T18:34:37.105Z","__v":0}}
info: path: /apps/123/users/sendid/messages/RFN/5e60e397-88e6-49c6-ad7d-571071c472cf
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/sendid/29c55c1e-f272-4b14-854c-4558b8268260
info: create conv for msg  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb29d706eb250bd186ad51","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb29d706eb250bd186ad51","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/29c55c1e-f272-4b14-854c-4558b8268260","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"29c55c1e-f272-4b14-854c-4558b8268260","createdAt":"2019-10-31T18:37:11.947Z","updatedAt":"2019-10-31T18:37:11.947Z","__v":0}}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb29d706eb250bd186ad51","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb29d706eb250bd186ad51","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/29c55c1e-f272-4b14-854c-4558b8268260","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"29c55c1e-f272-4b14-854c-4558b8268260","createdAt":"2019-10-31T18:37:11.947Z","updatedAt":"2019-10-31T18:37:11.947Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:37:12 +0000] "POST /messages HTTP/1.1" 200 429 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb29d706eb250bd186ad51","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb29d706eb250bd186ad51","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/29c55c1e-f272-4b14-854c-4558b8268260","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"29c55c1e-f272-4b14-854c-4558b8268260","createdAt":"2019-10-31T18:37:11.947Z","updatedAt":"2019-10-31T18:37:12.026Z","__v":0}}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb29d706eb250bd186ad51","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb29d706eb250bd186ad51","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/29c55c1e-f272-4b14-854c-4558b8268260","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"29c55c1e-f272-4b14-854c-4558b8268260","createdAt":"2019-10-31T18:37:11.947Z","updatedAt":"2019-10-31T18:37:12.026Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN/a1349c52-eaa1-4de3-914b-b82e92030602
info: messageEvent.emit
info: path: /apps/123/users/RFN/messages/sendid/18cb079e-adcb-4477-b5ab-8fecb20bd7b7
info: create conv for msg  {"__v":0,"updatedAt":"2019-10-31T18:38:48.813Z","createdAt":"2019-10-31T18:38:48.813Z","message_id":"18cb079e-adcb-4477-b5ab-8fecb20bd7b7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid/18cb079e-adcb-4477-b5ab-8fecb20bd7b7","status":"delivered","_id":"5dbb2a3814b6590be6fb0368","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb2a3814b6590be6fb0368","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2a3814b6590be6fb0368","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/18cb079e-adcb-4477-b5ab-8fecb20bd7b7","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"18cb079e-adcb-4477-b5ab-8fecb20bd7b7","createdAt":"2019-10-31T18:38:48.813Z","updatedAt":"2019-10-31T18:38:48.813Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:38:48 +0000] "POST /messages HTTP/1.1" 200 429 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-10-31T18:38:48.921Z","createdAt":"2019-10-31T18:38:48.813Z","message_id":"18cb079e-adcb-4477-b5ab-8fecb20bd7b7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid/18cb079e-adcb-4477-b5ab-8fecb20bd7b7","status":"delivered","_id":"5dbb2a3814b6590be6fb0368","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb2a3814b6590be6fb0368","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2a3814b6590be6fb0368","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/18cb079e-adcb-4477-b5ab-8fecb20bd7b7","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"18cb079e-adcb-4477-b5ab-8fecb20bd7b7","createdAt":"2019-10-31T18:38:48.813Z","updatedAt":"2019-10-31T18:38:48.921Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN/84500edc-59eb-4ffe-b9f0-2f70d55689b5
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid/018196d0-aaf3-4dc9-80d8-4b585f342716
info: create conv for msg  {"__v":0,"updatedAt":"2019-10-31T18:39:55.208Z","createdAt":"2019-10-31T18:39:55.208Z","message_id":"018196d0-aaf3-4dc9-80d8-4b585f342716","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid/018196d0-aaf3-4dc9-80d8-4b585f342716","status":"delivered","_id":"5dbb2a7bb5976d0bf8c4f25a","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb2a7bb5976d0bf8c4f25a","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2a7bb5976d0bf8c4f25a","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/018196d0-aaf3-4dc9-80d8-4b585f342716","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"018196d0-aaf3-4dc9-80d8-4b585f342716","createdAt":"2019-10-31T18:39:55.208Z","updatedAt":"2019-10-31T18:39:55.208Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:39:55 +0000] "POST /messages HTTP/1.1" 200 429 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-10-31T18:39:55.327Z","createdAt":"2019-10-31T18:39:55.208Z","message_id":"018196d0-aaf3-4dc9-80d8-4b585f342716","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid/018196d0-aaf3-4dc9-80d8-4b585f342716","status":"delivered","_id":"5dbb2a7bb5976d0bf8c4f25a","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb2a7bb5976d0bf8c4f25a","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2a7bb5976d0bf8c4f25a","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/018196d0-aaf3-4dc9-80d8-4b585f342716","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"018196d0-aaf3-4dc9-80d8-4b585f342716","createdAt":"2019-10-31T18:39:55.208Z","updatedAt":"2019-10-31T18:39:55.327Z","__v":0}}
info: path: /apps/123/users/sendid/messages/RFN/99976404-0e31-4dec-ae2c-6cf87ac13bdf
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid/c45ea941-a320-4804-ab6a-ec5d7b80cf8d
info: create conv for msg  {"__v":0,"updatedAt":"2019-10-31T18:40:05.694Z","createdAt":"2019-10-31T18:40:05.694Z","message_id":"c45ea941-a320-4804-ab6a-ec5d7b80cf8d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid/c45ea941-a320-4804-ab6a-ec5d7b80cf8d","status":"delivered","_id":"5dbb2a85b5976d0bf8c4f25d","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb2a85b5976d0bf8c4f25d","wasPopulated":false,"activePaths":{"paths":{"path":"modify","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"path":true,"status":true},"require":{"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2a85b5976d0bf8c4f25d","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/c45ea941-a320-4804-ab6a-ec5d7b80cf8d","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"c45ea941-a320-4804-ab6a-ec5d7b80cf8d","createdAt":"2019-10-31T18:40:05.694Z","updatedAt":"2019-10-31T18:40:05.694Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:40:05 +0000] "POST /messages HTTP/1.1" 200 429 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-10-31T18:40:05.782Z","createdAt":"2019-10-31T18:40:05.694Z","message_id":"c45ea941-a320-4804-ab6a-ec5d7b80cf8d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid/c45ea941-a320-4804-ab6a-ec5d7b80cf8d","status":"delivered","_id":"5dbb2a85b5976d0bf8c4f25d","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":false,"getters":{},"_id":"5dbb2a85b5976d0bf8c4f25d","wasPopulated":false,"activePaths":{"paths":{"createdBy":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require","path":"require","status":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2a85b5976d0bf8c4f25d","status":"delivered","path":"/apps/123/users/RFN/messages/sendid/c45ea941-a320-4804-ab6a-ec5d7b80cf8d","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"c45ea941-a320-4804-ab6a-ec5d7b80cf8d","createdAt":"2019-10-31T18:40:05.694Z","updatedAt":"2019-10-31T18:40:05.782Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN/644599cf-e221-49bc-9787-13c4f8c55cb1
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid/79172f4f-a428-4597-8e92-c7b4afe91c16
error: uncaughtException: timelineNewMessage.save is not a function
TypeError: timelineNewMessage.save is not a function
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:64:22)
    at MessageEvent.emit (events.js:198:13)
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:26:21)
    at MessageEvent.emit (events.js:203:15)
    at /home/ubuntu/dev/chat21-server/routes/message.js:42:18
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"TypeError: timelineNewMessage.save is not a function\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:64:22)\n    at MessageEvent.emit (events.js:198:13)\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:26:21)\n    at MessageEvent.emit (events.js:203:15)\n    at /home/ubuntu/dev/chat21-server/routes/message.js:42:18\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Thu Oct 31 2019 18:47:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":3097,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56512512,"heapTotal":23883776,"heapUsed":18706640,"external":18330375}},"os":{"loadavg":[0,0,0],"uptime":3546},"trace":[{"column":22,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":64,"method":null,"native":false},{"column":13,"file":"events.js","function":"MessageEvent.emit","line":198,"method":"emit","native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":26,"method":null,"native":false},{"column":15,"file":"events.js","function":"MessageEvent.emit","line":203,"method":"emit","native":false},{"column":18,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":42,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN/b39f3260-e0df-49ef-a4b9-2508751ba0bb
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid/7b5f61f2-8389-45ac-84cd-7206dd9f5647
info: create conv for msg  {"__v":0,"updatedAt":"2019-10-31T18:49:14.795Z","createdAt":"2019-10-31T18:49:14.795Z","message_id":"7b5f61f2-8389-45ac-84cd-7206dd9f5647","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN/b39f3260-e0df-49ef-a4b9-2508751ba0bb","status":"sent","_id":"5dbb2caa78fb070c2bd48eff","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dbb2caa78fb070c2bd48eff","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dbb2caa78fb070c2bd48eff","status":"sent","path":"/apps/123/users/sendid/messages/RFN/b39f3260-e0df-49ef-a4b9-2508751ba0bb","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"7b5f61f2-8389-45ac-84cd-7206dd9f5647","createdAt":"2019-10-31T18:49:14.795Z","updatedAt":"2019-10-31T18:49:14.795Z","__v":0}}
info: ::ffff:127.0.0.1 - - [31/Oct/2019:18:49:15 +0000] "POST /messages HTTP/1.1" 200 424 "-" "curl/7.58.0"

error: uncaughtException: res is not defined
ReferenceError: res is not defined
    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:68:7
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: res is not defined\n    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:68:7\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Thu Oct 31 2019 18:49:15 GMT+0000 (Coordinated Universal Time)","process":{"pid":3115,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":62959616,"heapTotal":38039552,"heapUsed":25033352,"external":19927551}},"os":{"loadavg":[0,0,0],"uptime":3639},"trace":[{"column":7,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":68,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":175,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:40:47.961Z","createdAt":"2019-11-04T10:40:47.961Z","message_id":"b135e4a4-2ec1-4842-8271-f0d59eeecee9","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN","status":"sent","_id":"5dc0002ff6cc58094ac9d605","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0002ff6cc58094ac9d605","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0002ff6cc58094ac9d605","status":"sending","path":"/apps/123/users/123/messages/RFN","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"b135e4a4-2ec1-4842-8271-f0d59eeecee9","createdAt":"2019-11-04T10:40:47.961Z","updatedAt":"2019-11-04T10:40:47.961Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:40:48 +0000] "POST /messages HTTP/1.1" 200 380 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:40:47.961Z","createdAt":"2019-11-04T10:40:47.961Z","message_id":"b135e4a4-2ec1-4842-8271-f0d59eeecee9","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN/messages/123","status":"delivered","_id":"5dc00030f6cc58094ac9d606","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00030f6cc58094ac9d606","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00030f6cc58094ac9d606","status":"sending","path":"/apps/123/users/RFN/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"b135e4a4-2ec1-4842-8271-f0d59eeecee9","createdAt":"2019-11-04T10:40:47.961Z","updatedAt":"2019-11-04T10:40:47.961Z","__v":0}}
error: uncaughtException: savedConversation.toObject is not a function
TypeError: savedConversation.toObject is not a function
    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:122:61
    at model.Query.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16)
    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:273:21
    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:131:16
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"TypeError: savedConversation.toObject is not a function\n    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:122:61\n    at model.Query.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16)\n    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:273:21\n    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:131:16\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Mon Nov 04 2019 10:40:48 GMT+0000 (Coordinated Universal Time)","process":{"pid":2378,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54681600,"heapTotal":23883776,"heapUsed":19184176,"external":18332041}},"os":{"loadavg":[0.0751953125,0.0849609375,0.064453125],"uptime":484},"trace":[{"column":61,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":122,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/node_modules/kareem/index.js","function":null,"line":273,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:43:12.879Z","createdAt":"2019-11-04T10:43:12.879Z","message_id":"3fc708da-ed9a-4096-9e6f-d4dd03221b87","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN","status":"sent","_id":"5dc000c0cd993d0974b54e70","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc000c0cd993d0974b54e70","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc000c0cd993d0974b54e70","status":"sending","path":"/apps/123/users/123/messages/RFN","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"3fc708da-ed9a-4096-9e6f-d4dd03221b87","createdAt":"2019-11-04T10:43:12.879Z","updatedAt":"2019-11-04T10:43:12.879Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:43:12 +0000] "POST /messages HTTP/1.1" 200 380 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:43:12.879Z","createdAt":"2019-11-04T10:43:12.879Z","message_id":"3fc708da-ed9a-4096-9e6f-d4dd03221b87","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN/messages/123","status":"delivered","_id":"5dc000c0cd993d0974b54e71","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc000c0cd993d0974b54e71","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc000c0cd993d0974b54e71","status":"sending","path":"/apps/123/users/RFN/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"3fc708da-ed9a-4096-9e6f-d4dd03221b87","createdAt":"2019-11-04T10:43:12.879Z","updatedAt":"2019-11-04T10:43:12.879Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:44:37.570Z","createdAt":"2019-11-04T10:44:37.570Z","message_id":"1648b05c-7e8b-475c-8ed9-f9bc008828cf","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN","status":"sent","_id":"5dc001154610a90993548caf","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc001154610a90993548caf","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc001154610a90993548caf","status":"sending","path":"/apps/123/users/123/messages/RFN","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"1648b05c-7e8b-475c-8ed9-f9bc008828cf","createdAt":"2019-11-04T10:44:37.570Z","updatedAt":"2019-11-04T10:44:37.570Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:44:37 +0000] "POST /messages HTTP/1.1" 200 380 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:44:37.570Z","createdAt":"2019-11-04T10:44:37.570Z","message_id":"1648b05c-7e8b-475c-8ed9-f9bc008828cf","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN/messages/123","status":"delivered","_id":"5dc001154610a90993548cb0","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc001154610a90993548cb0","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc001154610a90993548cb0","status":"sending","path":"/apps/123/users/RFN/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"1648b05c-7e8b-475c-8ed9-f9bc008828cf","createdAt":"2019-11-04T10:44:37.570Z","updatedAt":"2019-11-04T10:44:37.570Z","__v":0}}
error: uncaughtException: raw is not defined
ReferenceError: raw is not defined
    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:121:37
    at model.Query.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16)
    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:273:21
    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:131:16
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: raw is not defined\n    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:121:37\n    at model.Query.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16)\n    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:273:21\n    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:131:16\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Mon Nov 04 2019 10:44:37 GMT+0000 (Coordinated Universal Time)","process":{"pid":2451,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":65531904,"heapTotal":39612416,"heapUsed":20684824,"external":18343367}},"os":{"loadavg":[0,0.03125,0.0419921875],"uptime":713},"trace":[{"column":37,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":121,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/node_modules/kareem/index.js","function":null,"line":273,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:45:02.261Z","createdAt":"2019-11-04T10:45:02.261Z","message_id":"b99fe0df-02f7-472f-be61-c180a237d09c","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN","status":"sent","_id":"5dc0012ebc50d609a4430910","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0012ebc50d609a4430910","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0012ebc50d609a4430910","status":"sending","path":"/apps/123/users/123/messages/RFN","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"b99fe0df-02f7-472f-be61-c180a237d09c","createdAt":"2019-11-04T10:45:02.261Z","updatedAt":"2019-11-04T10:45:02.261Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:45:02 +0000] "POST /messages HTTP/1.1" 200 380 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:45:02.261Z","createdAt":"2019-11-04T10:45:02.261Z","message_id":"b99fe0df-02f7-472f-be61-c180a237d09c","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN/messages/123","status":"delivered","_id":"5dc0012ebc50d609a4430911","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0012ebc50d609a4430911","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0012ebc50d609a4430911","status":"sending","path":"/apps/123/users/RFN/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"b99fe0df-02f7-472f-be61-c180a237d09c","createdAt":"2019-11-04T10:45:02.261Z","updatedAt":"2019-11-04T10:45:02.261Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:46:46.443Z","createdAt":"2019-11-04T10:46:46.443Z","message_id":"ea9ee36e-076f-45cd-bdc5-c2fb6c227b4c","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN","status":"sent","_id":"5dc00196773a1509b5d613ae","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00196773a1509b5d613ae","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00196773a1509b5d613ae","status":"sending","path":"/apps/123/users/123/messages/RFN","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"ea9ee36e-076f-45cd-bdc5-c2fb6c227b4c","createdAt":"2019-11-04T10:46:46.443Z","updatedAt":"2019-11-04T10:46:46.443Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:46:46 +0000] "POST /messages HTTP/1.1" 200 380 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:46:46.443Z","createdAt":"2019-11-04T10:46:46.443Z","message_id":"ea9ee36e-076f-45cd-bdc5-c2fb6c227b4c","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN/messages/123","status":"delivered","_id":"5dc00196773a1509b5d613af","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00196773a1509b5d613af","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00196773a1509b5d613af","status":"sending","path":"/apps/123/users/RFN/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"123","message_id":"ea9ee36e-076f-45cd-bdc5-c2fb6c227b4c","createdAt":"2019-11-04T10:46:46.443Z","updatedAt":"2019-11-04T10:46:46.443Z","__v":0}}
info: path: /apps/123/users/123/messages/RFN2
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN2/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:47:10.706Z","createdAt":"2019-11-04T10:47:10.706Z","message_id":"a1f85319-9cb0-47ea-b24c-1b88cc142b3e","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN2","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN2","status":"sent","_id":"5dc001ae773a1509b5d613b0","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc001ae773a1509b5d613b0","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc001ae773a1509b5d613b0","status":"sending","path":"/apps/123/users/123/messages/RFN2","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN2","sender_fullname":"SFN","sender_id":"123","message_id":"a1f85319-9cb0-47ea-b24c-1b88cc142b3e","createdAt":"2019-11-04T10:47:10.706Z","updatedAt":"2019-11-04T10:47:10.706Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:47:10 +0000] "POST /messages HTTP/1.1" 200 382 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:47:10.706Z","createdAt":"2019-11-04T10:47:10.706Z","message_id":"a1f85319-9cb0-47ea-b24c-1b88cc142b3e","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN2","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN2/messages/123","status":"delivered","_id":"5dc001ae773a1509b5d613b1","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc001ae773a1509b5d613b1","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc001ae773a1509b5d613b1","status":"sending","path":"/apps/123/users/RFN2/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN2","sender_fullname":"SFN","sender_id":"123","message_id":"a1f85319-9cb0-47ea-b24c-1b88cc142b3e","createdAt":"2019-11-04T10:47:10.706Z","updatedAt":"2019-11-04T10:47:10.706Z","__v":0}}
info: path: /apps/123/users/123/messages/RFN2
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN2/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:47:16.040Z","createdAt":"2019-11-04T10:47:16.040Z","message_id":"024f8c53-d112-4472-a41a-c476cce605f6","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN2","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN2","status":"sent","_id":"5dc001b4773a1509b5d613b2","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc001b4773a1509b5d613b2","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc001b4773a1509b5d613b2","status":"sending","path":"/apps/123/users/123/messages/RFN2","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN2","sender_fullname":"SFN","sender_id":"123","message_id":"024f8c53-d112-4472-a41a-c476cce605f6","createdAt":"2019-11-04T10:47:16.040Z","updatedAt":"2019-11-04T10:47:16.040Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:47:16 +0000] "POST /messages HTTP/1.1" 200 382 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:47:16.040Z","createdAt":"2019-11-04T10:47:16.040Z","message_id":"024f8c53-d112-4472-a41a-c476cce605f6","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN2","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN2/messages/123","status":"delivered","_id":"5dc001b4773a1509b5d613b3","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc001b4773a1509b5d613b3","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc001b4773a1509b5d613b3","status":"sending","path":"/apps/123/users/RFN2/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN2","sender_fullname":"SFN","sender_id":"123","message_id":"024f8c53-d112-4472-a41a-c476cce605f6","createdAt":"2019-11-04T10:47:16.040Z","updatedAt":"2019-11-04T10:47:16.040Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: messageEvent is not defined
ReferenceError: messageEvent is not defined
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/events/conversationEvent.js:50:18)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:6:25)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18) {"error":{},"stack":"ReferenceError: messageEvent is not defined\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/events/conversationEvent.js:50:18)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:6:25)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)","exception":true,"date":"Mon Nov 04 2019 10:51:13 GMT+0000 (Coordinated Universal Time)","process":{"pid":2707,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53190656,"heapTotal":34848768,"heapUsed":15854016,"external":18301672}},"os":{"loadavg":[0.00390625,0.0087890625,0.00927734375],"uptime":1109},"trace":[{"column":18,"file":"/home/ubuntu/dev/chat21-server/events/conversationEvent.js","function":null,"line":50,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":25,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":6,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/123/messages/RFN2
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN2/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:53:09.485Z","createdAt":"2019-11-04T10:53:09.485Z","message_id":"43aa01eb-3cbc-4666-ac63-b01f2d232f1b","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN2","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/RFN2","status":"sent","_id":"5dc003156c155b0ac2f5d536","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc003156c155b0ac2f5d536","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc003156c155b0ac2f5d536","status":"sending","path":"/apps/123/users/123/messages/RFN2","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN2","sender_fullname":"SFN","sender_id":"123","message_id":"43aa01eb-3cbc-4666-ac63-b01f2d232f1b","createdAt":"2019-11-04T10:53:09.485Z","updatedAt":"2019-11-04T10:53:09.485Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:10:53:09 +0000] "POST /messages HTTP/1.1" 200 382 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T10:53:09.485Z","createdAt":"2019-11-04T10:53:09.485Z","message_id":"43aa01eb-3cbc-4666-ac63-b01f2d232f1b","sender_id":"123","sender_fullname":"SFN","recipient_id":"RFN2","text":"123","app_id":"123","createdBy":"123","path":"/apps/123/users/RFN2/messages/123","status":"delivered","_id":"5dc003156c155b0ac2f5d537","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc003156c155b0ac2f5d537","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc003156c155b0ac2f5d537","status":"sending","path":"/apps/123/users/RFN2/messages/123","createdBy":"123","app_id":"123","text":"123","recipient_id":"RFN2","sender_fullname":"SFN","sender_id":"123","message_id":"43aa01eb-3cbc-4666-ac63-b01f2d232f1b","createdAt":"2019-11-04T10:53:09.485Z","updatedAt":"2019-11-04T10:53:09.485Z","__v":0}}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/routes/message.js:15
curl -X POST -H 'Content-Type: application/json' -d '{"sender_id":"123", "sender_fullname":"SFN", "recipient_id":"RFN", "text": "123", "app_id":"123"}' https://chat21-server.herokuapp.com:3200/messages
        ^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/message.js:15\ncurl -X POST -H 'Content-Type: application/json' -d '{\"sender_id\":\"123\", \"sender_fullname\":\"SFN\", \"recipient_id\":\"RFN\", \"text\": \"123\", \"app_id\":\"123\"}' https://chat21-server.herokuapp.com:3200/messages\n        ^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Mon Nov 04 2019 11:01:14 GMT+0000 (Coordinated Universal Time)","process":{"pid":2780,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53993472,"heapTotal":34848768,"heapUsed":15617792,"external":18297099}},"os":{"loadavg":[0,0.00048828125,0],"uptime":1710},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: ::ffff:93.69.88.145 - - [04/Nov/2019:11:05:11 +0000] "GET / HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.87 Safari/537.36"

info: ::ffff:93.69.88.145 - - [04/Nov/2019:11:05:12 +0000] "GET /favicon.ico HTTP/1.1" 404 24 "http://52.16.111.112:3200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.87 Safari/537.36"

info: ::ffff:93.69.88.145 - - [04/Nov/2019:11:07:14 +0000] "GET / HTTP/1.1" 304 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.87 Safari/537.36"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: listen EADDRINUSE: address already in use :::3200
Error: listen EADDRINUSE: address already in use :::3200
    at Server.setupListenHandle [as _listen2] (net.js:1280:14)
    at listenInCluster (net.js:1328:12)
    at Server.listen (net.js:1415:7)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:37:27)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","address":"::","port":3200},"stack":"Error: listen EADDRINUSE: address already in use :::3200\n    at Server.setupListenHandle [as _listen2] (net.js:1280:14)\n    at listenInCluster (net.js:1328:12)\n    at Server.listen (net.js:1415:7)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:37:27)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:25:09 GMT+0000 (Coordinated Universal Time)","process":{"pid":3065,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56111104,"heapTotal":36466688,"heapUsed":20557792,"external":19203955}},"os":{"loadavg":[0.06689453125,0.015625,0.00439453125],"uptime":3146},"trace":[{"column":14,"file":"net.js","function":"Server.setupListenHandle [as _listen2]","line":1280,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"net.js","function":"listenInCluster","line":1328,"method":null,"native":false},{"column":7,"file":"net.js","function":"Server.listen","line":1415,"method":"listen","native":false},{"column":27,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":37,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc00bc8aaf41c0c18a3c5fe","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00bc8aaf41c0c18a3c5fe","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00bc8aaf41c0c18a3c5fe","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","createdAt":"2019-11-04T11:30:16.118Z","updatedAt":"2019-11-04T11:30:16.118Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:11:30:16 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: conversationEvent.emit
info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc00bc8aaf41c0c18a3c5ff","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00bc8aaf41c0c18a3c5ff","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00bc8aaf41c0c18a3c5ff","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","createdAt":"2019-11-04T11:30:16.118Z","updatedAt":"2019-11-04T11:30:16.118Z","__v":0}}
info: conversationEvent.emit
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc00bd8aaf41c0c18a3c600","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00bd8aaf41c0c18a3c600","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00bd8aaf41c0c18a3c600","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","createdAt":"2019-11-04T11:30:32.650Z","updatedAt":"2019-11-04T11:30:32.650Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:11:30:32 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc00bd8aaf41c0c18a3c601","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00bd8aaf41c0c18a3c601","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00bd8aaf41c0c18a3c601","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","createdAt":"2019-11-04T11:30:32.650Z","updatedAt":"2019-11-04T11:30:32.650Z","__v":0}}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:41:48 GMT+0000 (Coordinated Universal Time)","process":{"pid":3209,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53755904,"heapTotal":34848768,"heapUsed":15338752,"external":18297099}},"os":{"loadavg":[0.0029296875,0.01171875,0],"uptime":4144},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:42:17 GMT+0000 (Coordinated Universal Time)","process":{"pid":3222,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54521856,"heapTotal":34848768,"heapUsed":15339424,"external":18297099}},"os":{"loadavg":[0.00048828125,0.00927734375,0],"uptime":4173},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:42:47 GMT+0000 (Coordinated Universal Time)","process":{"pid":3234,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53444608,"heapTotal":34848768,"heapUsed":15338872,"external":18297099}},"os":{"loadavg":[0.0615234375,0.0234375,0.00390625],"uptime":4203},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:42:53 GMT+0000 (Coordinated Universal Time)","process":{"pid":3246,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53981184,"heapTotal":34848768,"heapUsed":15338640,"external":18297099}},"os":{"loadavg":[0.12548828125,0.0390625,0.0087890625],"uptime":4209},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:43:08 GMT+0000 (Coordinated Universal Time)","process":{"pid":3258,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53391360,"heapTotal":34848768,"heapUsed":15337680,"external":18297099}},"os":{"loadavg":[0.09716796875,0.0361328125,0.00732421875],"uptime":4224},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc00f5c9295820d499ffa4e","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00f5c9295820d499ffa4e","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00f5c9295820d499ffa4e","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","createdAt":"2019-11-04T11:45:32.706Z","updatedAt":"2019-11-04T11:45:32.706Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:11:45:32 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc00f5c9295820d499ffa4f","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc00f5c9295820d499ffa4f","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc00f5c9295820d499ffa4f","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","createdAt":"2019-11-04T11:45:32.706Z","updatedAt":"2019-11-04T11:45:32.706Z","__v":0}}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:46:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":3427,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53673984,"heapTotal":34848768,"heapUsed":15547488,"external":18297099}},"os":{"loadavg":[0,0.01220703125,0],"uptime":4438},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token .
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:51
   conversationEvent.on('conversation.update', function (conversation) {
                    ^

SyntaxError: Unexpected token .
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:51\n   conversationEvent.on('conversation.update', function (conversation) {\n                    ^\n\nSyntaxError: Unexpected token .\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:46:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":3436,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53538816,"heapTotal":34848768,"heapUsed":16977824,"external":18372981}},"os":{"loadavg":[0,0.01220703125,0],"uptime":4438},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:47:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":3456,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53047296,"heapTotal":34848768,"heapUsed":15565608,"external":18297099}},"os":{"loadavg":[0.16015625,0.03955078125,0.0107421875],"uptime":4498},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:49
    });
     ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:49\n    });\n     ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:47:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":3465,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54202368,"heapTotal":34848768,"heapUsed":16974960,"external":18372981}},"os":{"loadavg":[0.16015625,0.03955078125,0.0107421875],"uptime":4498},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:48:26 GMT+0000 (Coordinated Universal Time)","process":{"pid":3484,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53211136,"heapTotal":34848768,"heapUsed":15566936,"external":18297099}},"os":{"loadavg":[0.080078125,0.03173828125,0.0068359375],"uptime":4542},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:60
var webSocketServer = new WebSocketServer();
    ^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:60\nvar webSocketServer = new WebSocketServer();\n    ^^^^^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:48:26 GMT+0000 (Coordinated Universal Time)","process":{"pid":3493,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":52973568,"heapTotal":34848768,"heapUsed":16976368,"external":18372981}},"os":{"loadavg":[0.080078125,0.03173828125,0.0068359375],"uptime":4542},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:48:50 GMT+0000 (Coordinated Universal Time)","process":{"pid":3511,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53690368,"heapTotal":34848768,"heapUsed":15565512,"external":18297099}},"os":{"loadavg":[0.05126953125,0.02783203125,0.00439453125],"uptime":4566},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61
var webSocketServer = new WebSocketServer();
    ^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61\nvar webSocketServer = new WebSocketServer();\n    ^^^^^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:48:50 GMT+0000 (Coordinated Universal Time)","process":{"pid":3520,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53567488,"heapTotal":34848768,"heapUsed":16977960,"external":18372981}},"os":{"loadavg":[0.05126953125,0.02783203125,0.00439453125],"uptime":4566},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:49:19 GMT+0000 (Coordinated Universal Time)","process":{"pid":3537,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53555200,"heapTotal":34848768,"heapUsed":15566440,"external":18297099}},"os":{"loadavg":[0.02978515625,0.02490234375,0.00146484375],"uptime":4595},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61
var webSocketServer = new WebSocketServer();
    ^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61\nvar webSocketServer = new WebSocketServer();\n    ^^^^^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:49:19 GMT+0000 (Coordinated Universal Time)","process":{"pid":3546,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53735424,"heapTotal":34848768,"heapUsed":16975560,"external":18372981}},"os":{"loadavg":[0.02978515625,0.02490234375,0.00146484375],"uptime":4595},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:49:33 GMT+0000 (Coordinated Universal Time)","process":{"pid":3563,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53743616,"heapTotal":34848768,"heapUsed":15565760,"external":18297099}},"os":{"loadavg":[0.18310546875,0.05712890625,0.01123046875],"uptime":4609},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61
var webSocketServer = new WebSocketServer();
    ^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61\nvar webSocketServer = new WebSocketServer();\n    ^^^^^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:49:33 GMT+0000 (Coordinated Universal Time)","process":{"pid":3572,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53391360,"heapTotal":34848768,"heapUsed":16976248,"external":18372981}},"os":{"loadavg":[0.18310546875,0.05712890625,0.01123046875],"uptime":4609},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:49:48 GMT+0000 (Coordinated Universal Time)","process":{"pid":3589,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53903360,"heapTotal":34848768,"heapUsed":15487368,"external":18297099}},"os":{"loadavg":[0.30224609375,0.087890625,0.02099609375],"uptime":4624},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61
var webSocketServer = new WebSocketServer();
    ^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61\nvar webSocketServer = new WebSocketServer();\n    ^^^^^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:49:48 GMT+0000 (Coordinated Universal Time)","process":{"pid":3598,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53575680,"heapTotal":34848768,"heapUsed":16899408,"external":18372981}},"os":{"loadavg":[0.30224609375,0.087890625,0.02099609375],"uptime":4624},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:50:01 GMT+0000 (Coordinated Universal Time)","process":{"pid":3615,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53571584,"heapTotal":34848768,"heapUsed":15596904,"external":18297099}},"os":{"loadavg":[0.25537109375,0.0849609375,0.02001953125],"uptime":4637},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:62
var webSocketServer = new WebSocketServer();
    ^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:62\nvar webSocketServer = new WebSocketServer();\n    ^^^^^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:50:01 GMT+0000 (Coordinated Universal Time)","process":{"pid":3624,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53141504,"heapTotal":34848768,"heapUsed":17001544,"external":18372981}},"os":{"loadavg":[0.25537109375,0.0849609375,0.02001953125],"uptime":4637},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:50:19 GMT+0000 (Coordinated Universal Time)","process":{"pid":3641,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53243904,"heapTotal":34848768,"heapUsed":15567496,"external":18297099}},"os":{"loadavg":[0.18212890625,0.0791015625,0.01806640625],"uptime":4655},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected end of input
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61
module.exports = webSocketServer;
                                ^

SyntaxError: Unexpected end of input
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:61\nmodule.exports = webSocketServer;\n                                ^\n\nSyntaxError: Unexpected end of input\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:50:19 GMT+0000 (Coordinated Universal Time)","process":{"pid":3650,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":52871168,"heapTotal":34848768,"heapUsed":16976800,"external":18372981}},"os":{"loadavg":[0.18212890625,0.0791015625,0.01806640625],"uptime":4655},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:50:32 GMT+0000 (Coordinated Universal Time)","process":{"pid":3667,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":52891648,"heapTotal":34848768,"heapUsed":15567392,"external":18297099}},"os":{"loadavg":[0.3017578125,0.1083984375,0.02783203125],"uptime":4668},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected end of input
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:57
module.exports = webSocketServer;
                                ^

SyntaxError: Unexpected end of input
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:57\nmodule.exports = webSocketServer;\n                                ^\n\nSyntaxError: Unexpected end of input\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:50:32 GMT+0000 (Coordinated Universal Time)","process":{"pid":3676,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54071296,"heapTotal":34848768,"heapUsed":16975912,"external":18372981}},"os":{"loadavg":[0.3017578125,0.1083984375,0.02783203125],"uptime":4668},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:50:47 GMT+0000 (Coordinated Universal Time)","process":{"pid":3693,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53760000,"heapTotal":34848768,"heapUsed":15565856,"external":18297099}},"os":{"loadavg":[0.2548828125,0.1044921875,0.02685546875],"uptime":4683},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected end of input
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:58
module.exports = webSocketServer;
                                ^

SyntaxError: Unexpected end of input
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:58\nmodule.exports = webSocketServer;\n                                ^\n\nSyntaxError: Unexpected end of input\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:50:47 GMT+0000 (Coordinated Universal Time)","process":{"pid":3702,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54030336,"heapTotal":34848768,"heapUsed":16897928,"external":18372981}},"os":{"loadavg":[0.2548828125,0.1044921875,0.02685546875],"uptime":4683},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:51:05 GMT+0000 (Coordinated Universal Time)","process":{"pid":3719,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53420032,"heapTotal":34848768,"heapUsed":15566416,"external":18297099}},"os":{"loadavg":[0.181640625,0.0966796875,0.02490234375],"uptime":4701},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:57
var webSocketServer = new WebSocketServer();
    ^^^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:57\nvar webSocketServer = new WebSocketServer();\n    ^^^^^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Mon Nov 04 2019 11:51:05 GMT+0000 (Coordinated Universal Time)","process":{"pid":3728,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54173696,"heapTotal":34848768,"heapUsed":16976496,"external":18372981}},"os":{"loadavg":[0.181640625,0.0966796875,0.02490234375],"uptime":4701},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:51:22 GMT+0000 (Coordinated Universal Time)","process":{"pid":3745,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53108736,"heapTotal":34848768,"heapUsed":15544776,"external":18297099}},"os":{"loadavg":[0.140625,0.0908203125,0.0234375],"uptime":4718},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc0114fd555d60eaabce144","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0114fd555d60eaabce144","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0114fd555d60eaabce144","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","createdAt":"2019-11-04T11:53:51.419Z","updatedAt":"2019-11-04T11:53:51.419Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:11:53:51 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc0114fd555d60eaabce145","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0114fd555d60eaabce145","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0114fd555d60eaabce145","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","createdAt":"2019-11-04T11:53:51.419Z","updatedAt":"2019-11-04T11:53:51.419Z","__v":0}}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T11:53:51.524Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
error: uncaughtException: message is not defined
ReferenceError: message is not defined
    at ConversationEvent.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:53:53)
    at ConversationEvent.emit (events.js:198:13)
    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:125:21
    at model.Query.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16)
    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:273:21
    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:131:16
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: message is not defined\n    at ConversationEvent.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:53:53)\n    at ConversationEvent.emit (events.js:198:13)\n    at /home/ubuntu/dev/chat21-server/events/messageEvent.js:125:21\n    at model.Query.<anonymous> (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16)\n    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:273:21\n    at /home/ubuntu/dev/chat21-server/node_modules/kareem/index.js:131:16\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Mon Nov 04 2019 11:53:51 GMT+0000 (Coordinated Universal Time)","process":{"pid":3754,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54616064,"heapTotal":23883776,"heapUsed":18915144,"external":18331316}},"os":{"loadavg":[0.015625,0.05859375,0.0146484375],"uptime":4867},"trace":[{"column":53,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":53,"method":null,"native":false},{"column":13,"file":"events.js","function":"ConversationEvent.emit","line":198,"method":"emit","native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":125,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/node_modules/kareem/index.js","function":null,"line":273,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/kareem/index.js","function":null,"line":131,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Mon Nov 04 2019 11:58:22 GMT+0000 (Coordinated Universal Time)","process":{"pid":3776,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53661696,"heapTotal":34848768,"heapUsed":15565216,"external":18297099}},"os":{"loadavg":[0,0.017578125,0],"uptime":5138},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc012dfc85f150ec93e305e","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc012dfc85f150ec93e305e","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc012dfc85f150ec93e305e","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","createdAt":"2019-11-04T12:00:31.472Z","updatedAt":"2019-11-04T12:00:31.472Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:00:31 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc012dfc85f150ec93e305f","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc012dfc85f150ec93e305f","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc012dfc85f150ec93e305f","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","createdAt":"2019-11-04T12:00:31.472Z","updatedAt":"2019-11-04T12:00:31.472Z","__v":0}}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:00:31.581Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:00:31.676Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc012ffc85f150ec93e3060","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc012ffc85f150ec93e3060","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc012ffc85f150ec93e3060","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","createdAt":"2019-11-04T12:01:03.660Z","updatedAt":"2019-11-04T12:01:03.660Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:01:03 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc012ffc85f150ec93e3061","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc012ffc85f150ec93e3061","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc012ffc85f150ec93e3061","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","createdAt":"2019-11-04T12:01:03.660Z","updatedAt":"2019-11-04T12:01:03.660Z","__v":0}}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:01:03.741Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:01:03.824Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc01321c85f150ec93e3062","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01321c85f150ec93e3062","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01321c85f150ec93e3062","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","createdAt":"2019-11-04T12:01:37.664Z","updatedAt":"2019-11-04T12:01:37.664Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:01:37 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:01:37.745Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc01321c85f150ec93e3063","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01321c85f150ec93e3063","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01321c85f150ec93e3063","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","createdAt":"2019-11-04T12:01:37.664Z","updatedAt":"2019-11-04T12:01:37.664Z","__v":0}}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:01:37.829Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc0179f89998f1117623442","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0179f89998f1117623442","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0179f89998f1117623442","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","createdAt":"2019-11-04T12:20:47.422Z","updatedAt":"2019-11-04T12:20:47.422Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:20:47 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc0179f89998f1117623443","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0179f89998f1117623443","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0179f89998f1117623443","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","createdAt":"2019-11-04T12:20:47.422Z","updatedAt":"2019-11-04T12:20:47.422Z","__v":0}}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:20:47.524Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:20:47.615Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc0183d4d5a831142dbb34d","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0183d4d5a831142dbb34d","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0183d4d5a831142dbb34d","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","createdAt":"2019-11-04T12:23:25.486Z","updatedAt":"2019-11-04T12:23:25.486Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:23:25 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc0183d4d5a831142dbb34e","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0183d4d5a831142dbb34e","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0183d4d5a831142dbb34e","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","createdAt":"2019-11-04T12:23:25.486Z","updatedAt":"2019-11-04T12:23:25.486Z","__v":0}}
info: conversationEvent update emit
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:23:25.581Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update emit
info: conversationEvent websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:23:25.676Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc01874afa04b115494bf90","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01874afa04b115494bf90","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01874afa04b115494bf90","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","createdAt":"2019-11-04T12:24:20.781Z","updatedAt":"2019-11-04T12:24:20.781Z","__v":0}}
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:24:20 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc01874afa04b115494bf91","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01874afa04b115494bf91","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01874afa04b115494bf91","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","createdAt":"2019-11-04T12:24:20.781Z","updatedAt":"2019-11-04T12:24:20.781Z","__v":0}}
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:24:20.895Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:24:21.003Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc0195300516c11816f6be5","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc0195300516c11816f6be5","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc0195300516c11816f6be5","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","createdAt":"2019-11-04T12:28:03.297Z","updatedAt":"2019-11-04T12:28:03.297Z","__v":0}}
error: uncaughtException: conversation is not defined
ReferenceError: conversation is not defined
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:44:24)
    at MessageEvent.emit (events.js:203:15)
    at /home/ubuntu/dev/chat21-server/routes/message.js:44:18
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: conversation is not defined\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:44:24)\n    at MessageEvent.emit (events.js:203:15)\n    at /home/ubuntu/dev/chat21-server/routes/message.js:44:18\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Mon Nov 04 2019 12:28:03 GMT+0000 (Coordinated Universal Time)","process":{"pid":4481,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":63754240,"heapTotal":38039552,"heapUsed":24946888,"external":19819000}},"os":{"loadavg":[0.12353515625,0.04052734375,0.00927734375],"uptime":6919},"trace":[{"column":24,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":44,"method":null,"native":false},{"column":15,"file":"events.js","function":"MessageEvent.emit","line":203,"method":"emit","native":false},{"column":18,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":44,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc019dae5d30a11a344819c","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc019dae5d30a11a344819c","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc019dae5d30a11a344819c","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","createdAt":"2019-11-04T12:30:18.716Z","updatedAt":"2019-11-04T12:30:18.716Z","__v":0}}
info: conversationEvent update websocket server topic 
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:30:18 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc019dae5d30a11a344819d","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc019dae5d30a11a344819d","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc019dae5d30a11a344819d","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","createdAt":"2019-11-04T12:30:18.716Z","updatedAt":"2019-11-04T12:30:18.716Z","__v":0}}
info: conversationEvent update websocket server topic 
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:30:18.814Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update websocket server topic 
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:30:18.904Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: conversationEvent update websocket server topic 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc01a2b26c7dd11b4ae7431","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a2b26c7dd11b4ae7431","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a2b26c7dd11b4ae7431","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","createdAt":"2019-11-04T12:31:39.581Z","updatedAt":"2019-11-04T12:31:39.581Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:31:39 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc01a2b26c7dd11b4ae7432","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a2b26c7dd11b4ae7432","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a2b26c7dd11b4ae7432","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","createdAt":"2019-11-04T12:31:39.581Z","updatedAt":"2019-11-04T12:31:39.581Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:31:39.683Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/undefined/conversations/undefined
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:31:39.776Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/undefined/conversations/undefined
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc01a6bd5688611d3adcc90","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a6bd5688611d3adcc90","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a6bd5688611d3adcc90","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","createdAt":"2019-11-04T12:32:43.132Z","updatedAt":"2019-11-04T12:32:43.132Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:32:43 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc01a6bd5688611d3adcc91","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a6bd5688611d3adcc91","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a6bd5688611d3adcc91","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","createdAt":"2019-11-04T12:32:43.132Z","updatedAt":"2019-11-04T12:32:43.132Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:32:43.232Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:32:43.325Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc01a7ed5688611d3adcc92","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a7ed5688611d3adcc92","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a7ed5688611d3adcc92","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","createdAt":"2019-11-04T12:33:02.201Z","updatedAt":"2019-11-04T12:33:02.201Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:33:02 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc01a7ed5688611d3adcc93","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a7ed5688611d3adcc93","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a7ed5688611d3adcc93","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","createdAt":"2019-11-04T12:33:02.201Z","updatedAt":"2019-11-04T12:33:02.201Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:33:02.281Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:33:02.364Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc01a90d5688611d3adcc94","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a90d5688611d3adcc94","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a90d5688611d3adcc94","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","createdAt":"2019-11-04T12:33:20.557Z","updatedAt":"2019-11-04T12:33:20.557Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:33:20 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc01a90d5688611d3adcc95","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01a90d5688611d3adcc95","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01a90d5688611d3adcc95","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","createdAt":"2019-11-04T12:33:20.557Z","updatedAt":"2019-11-04T12:33:20.557Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:33:20.636Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:33:20.718Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc01aded5688611d3adcc96","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01aded5688611d3adcc96","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01aded5688611d3adcc96","status":"sending","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","createdAt":"2019-11-04T12:34:38.077Z","updatedAt":"2019-11-04T12:34:38.077Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: ::ffff:127.0.0.1 - - [04/Nov/2019:12:34:38 +0000] "POST /messages HTTP/1.1" 200 390 "-" "curl/7.58.0"

info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc01aded5688611d3adcc97","channel_type":"direct","type":"text"}
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc01aded5688611d3adcc97","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"modify","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{"status":true},"require":{"path":true,"createdBy":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc01aded5688611d3adcc97","status":"sending","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"text","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","createdAt":"2019-11-04T12:34:38.077Z","updatedAt":"2019-11-04T12:34:38.077Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddafe8","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:34:38.157Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.217Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/messages/RFN","_id":"5dc00bc8b6415e0c09ddafe8"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc00bc8b6415e0c09ddaffe","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-04T12:34:38.240Z","status":"sending","sender_fullname":"SFN","sender":"sendid","recipient_fullname":null,"recipient":"RFN","last_message_text":"text","createdBy":"sendid","createdAt":"2019-11-04T11:30:16.317Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/messages/sendid","_id":"5dc00bc8b6415e0c09ddaffe"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Tue Nov 05 2019 17:38:49 GMT+0000 (Coordinated Universal Time)","process":{"pid":13792,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53858304,"heapTotal":34848768,"heapUsed":15338272,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":111965},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Tue Nov 05 2019 17:39:06 GMT+0000 (Coordinated Universal Time)","process":{"pid":13805,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53878784,"heapTotal":34848768,"heapUsed":15339088,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":111982},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: ::ffff:93.69.88.145 - - [05/Nov/2019:17:46:22 +0000] "GET / HTTP/1.1" 200 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.87 Safari/537.36"

info: ::ffff:93.69.88.145 - - [05/Nov/2019:17:46:25 +0000] "GET /favicon.ico HTTP/1.1" 404 24 "http://52.16.111.112:3200/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.87 Safari/537.36"

info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN e7186a13-d807-45cf-a0f8-a9a52c0804b2
info: onSubscribeCallback :22
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 02a60e85-f759-46eb-b953-a7938ad045b7
info: onSubscribeCallback :-1
info: onSubscribeCallback find
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN af4d1524-f9c9-4019-ab70-306fb417ba6d
info: onSubscribeCallback :22
info: onSubscribeCallback find
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 035b8223-5662-4876-93d0-4d727b4f9827
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"text":"hi"}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"sender_id":"123","sender_fullname":"SFN","recipient_id":"R","recipient_fullname":"RFN","text":"hi","app_id":"123"}
error: uncaughtException: uuidv4 is not defined
ReferenceError: uuidv4 is not defined
    at Object.onPublishCallback [as onPublish] (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:47:18)
    at PubSub.handleReceivedClientMessage (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:255:30)
    at WebSocket.ws.on (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:71:27)
    at WebSocket.emit (events.js:198:13)
    at Receiver.receiverOnMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:789:20)
    at Receiver.emit (events.js:198:13)
    at Receiver.dataMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:422:14)
    at Receiver.getData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:352:17)
    at Receiver.startLoop (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:138:22)
    at Receiver._write (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:74:10)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at Receiver.Writable.write (_stream_writable.js:299:11)
    at Socket.socketOnData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:864:35)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:287:12) {"error":{},"stack":"ReferenceError: uuidv4 is not defined\n    at Object.onPublishCallback [as onPublish] (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:47:18)\n    at PubSub.handleReceivedClientMessage (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:255:30)\n    at WebSocket.ws.on (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:71:27)\n    at WebSocket.emit (events.js:198:13)\n    at Receiver.receiverOnMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:789:20)\n    at Receiver.emit (events.js:198:13)\n    at Receiver.dataMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:422:14)\n    at Receiver.getData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:352:17)\n    at Receiver.startLoop (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:138:22)\n    at Receiver._write (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:74:10)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at Receiver.Writable.write (_stream_writable.js:299:11)\n    at Socket.socketOnData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:864:35)\n    at Socket.emit (events.js:198:13)\n    at addChunk (_stream_readable.js:287:12)","exception":true,"date":"Tue Nov 05 2019 17:59:49 GMT+0000 (Coordinated Universal Time)","process":{"pid":14420,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":52965376,"heapTotal":23359488,"heapUsed":17937760,"external":18327448}},"os":{"loadavg":[0,0,0],"uptime":113225},"trace":[{"column":18,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":"Object.onPublishCallback [as onPublish]","line":47,"method":"onPublishCallback [as onPublish]","native":false},{"column":30,"file":"/home/ubuntu/dev/chat21-server/websocket/pubsub.js","function":"PubSub.handleReceivedClientMessage","line":255,"method":"handleReceivedClientMessage","native":false},{"column":27,"file":"/home/ubuntu/dev/chat21-server/websocket/pubsub.js","function":"WebSocket.ws.on","line":71,"method":"on","native":false},{"column":13,"file":"events.js","function":"WebSocket.emit","line":198,"method":"emit","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js","function":"Receiver.receiverOnMessage","line":789,"method":"receiverOnMessage","native":false},{"column":13,"file":"events.js","function":"Receiver.emit","line":198,"method":"emit","native":false},{"column":14,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver.dataMessage","line":422,"method":"dataMessage","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver.getData","line":352,"method":"getData","native":false},{"column":22,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver.startLoop","line":138,"method":"startLoop","native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver._write","line":74,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"Receiver.Writable.write","line":299,"method":"write","native":false},{"column":35,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js","function":"Socket.socketOnData","line":864,"method":"socketOnData","native":false},{"column":13,"file":"events.js","function":"Socket.emit","line":198,"method":"emit","native":false},{"column":12,"file":"_stream_readable.js","function":"addChunk","line":287,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"sender_id":"123","sender_fullname":"SFN","recipient_id":"R","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/123/messages/R
error: uncaughtException: MessageConstants is not defined
ReferenceError: MessageConstants is not defined
    at Object.onPublishCallback [as onPublish] (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:63:13)
    at PubSub.handleReceivedClientMessage (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:255:30)
    at WebSocket.ws.on (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:71:27)
    at WebSocket.emit (events.js:198:13)
    at Receiver.receiverOnMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:789:20)
    at Receiver.emit (events.js:198:13)
    at Receiver.dataMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:422:14)
    at Receiver.getData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:352:17)
    at Receiver.startLoop (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:138:22)
    at Receiver._write (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:74:10)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at Receiver.Writable.write (_stream_writable.js:299:11)
    at Socket.socketOnData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:864:35)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:287:12) {"error":{},"stack":"ReferenceError: MessageConstants is not defined\n    at Object.onPublishCallback [as onPublish] (/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:63:13)\n    at PubSub.handleReceivedClientMessage (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:255:30)\n    at WebSocket.ws.on (/home/ubuntu/dev/chat21-server/websocket/pubsub.js:71:27)\n    at WebSocket.emit (events.js:198:13)\n    at Receiver.receiverOnMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:789:20)\n    at Receiver.emit (events.js:198:13)\n    at Receiver.dataMessage (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:422:14)\n    at Receiver.getData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:352:17)\n    at Receiver.startLoop (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:138:22)\n    at Receiver._write (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js:74:10)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at Receiver.Writable.write (_stream_writable.js:299:11)\n    at Socket.socketOnData (/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js:864:35)\n    at Socket.emit (events.js:198:13)\n    at addChunk (_stream_readable.js:287:12)","exception":true,"date":"Tue Nov 05 2019 18:00:32 GMT+0000 (Coordinated Universal Time)","process":{"pid":14438,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53829632,"heapTotal":23359488,"heapUsed":17740240,"external":18319650}},"os":{"loadavg":[0,0,0],"uptime":113268},"trace":[{"column":13,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":"Object.onPublishCallback [as onPublish]","line":63,"method":"onPublishCallback [as onPublish]","native":false},{"column":30,"file":"/home/ubuntu/dev/chat21-server/websocket/pubsub.js","function":"PubSub.handleReceivedClientMessage","line":255,"method":"handleReceivedClientMessage","native":false},{"column":27,"file":"/home/ubuntu/dev/chat21-server/websocket/pubsub.js","function":"WebSocket.ws.on","line":71,"method":"on","native":false},{"column":13,"file":"events.js","function":"WebSocket.emit","line":198,"method":"emit","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js","function":"Receiver.receiverOnMessage","line":789,"method":"receiverOnMessage","native":false},{"column":13,"file":"events.js","function":"Receiver.emit","line":198,"method":"emit","native":false},{"column":14,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver.dataMessage","line":422,"method":"dataMessage","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver.getData","line":352,"method":"getData","native":false},{"column":22,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver.startLoop","line":138,"method":"startLoop","native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/receiver.js","function":"Receiver._write","line":74,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"Receiver.Writable.write","line":299,"method":"write","native":false},{"column":35,"file":"/home/ubuntu/dev/chat21-server/node_modules/ws/lib/websocket.js","function":"Socket.socketOnData","line":864,"method":"socketOnData","native":false},{"column":13,"file":"events.js","function":"Socket.emit","line":198,"method":"emit","native":false},{"column":12,"file":"_stream_readable.js","function":"addChunk","line":287,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"sender_id":"123","sender_fullname":"SFN","recipient_id":"R","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/123/messages/R
info: messageEvent.emit
info: path send timeline: /apps/123/users/R/messages/123
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:01:06.445Z","createdAt":"2019-11-05T18:01:06.445Z","message_id":"e76939b3-ff56-4b1d-8af0-ef57e7daae82","sender_id":"123","sender_fullname":"SFN","recipient_id":"R","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"123","path":"/apps/123/users/123/messages/R","status":"sent","_id":"5dc1b8e271046f3876e4e30c","channel_type":"direct","type":"text"}
info: path: /apps/123/users/123/conversations/R
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1b8e271046f3876e4e30c","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1b8e271046f3876e4e30c","status":"sent","path":"/apps/123/users/123/messages/R","createdBy":"123","app_id":"123","text":"hi","recipient_fullname":"RFN","recipient_id":"R","sender_fullname":"SFN","sender_id":"123","message_id":"e76939b3-ff56-4b1d-8af0-ef57e7daae82","createdAt":"2019-11-05T18:01:06.445Z","updatedAt":"2019-11-05T18:01:06.445Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/123/messages/R
error: uncaughtException: res is not defined
ReferenceError: res is not defined
    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:75:5
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: res is not defined\n    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:75:5\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Tue Nov 05 2019 18:01:06 GMT+0000 (Coordinated Universal Time)","process":{"pid":14454,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":62431232,"heapTotal":38039552,"heapUsed":24526824,"external":19736453}},"os":{"loadavg":[0.06689453125,0.015625,0.00439453125],"uptime":113302},"trace":[{"column":5,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":75,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc1b95f88f384388c98326b","channel_type":"direct","type":"text"}
info: path: /apps/123/users/sendid/conversations/RFN
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1b95f88f384388c98326b","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1b95f88f384388c98326b","status":"sent","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"hi","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","createdAt":"2019-11-05T18:03:11.188Z","updatedAt":"2019-11-05T18:03:11.188Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
error: uncaughtException: res is not defined
ReferenceError: res is not defined
    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:75:5
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: res is not defined\n    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:75:5\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Tue Nov 05 2019 18:03:11 GMT+0000 (Coordinated Universal Time)","process":{"pid":14476,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53370880,"heapTotal":23359488,"heapUsed":18658864,"external":18322902}},"os":{"loadavg":[0.00537109375,0.00341796875,0],"uptime":113427},"trace":[{"column":5,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":75,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc1b9a2d118d0389b9ae521","channel_type":"direct","type":"text"}
info: path: /apps/123/users/sendid/conversations/RFN
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1b9a2d118d0389b9ae521","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1b9a2d118d0389b9ae521","status":"sent","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"hi","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","createdAt":"2019-11-05T18:04:18.454Z","updatedAt":"2019-11-05T18:04:18.454Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc1b9a2d118d0389b9ae522","channel_type":"direct","type":"text"}
info: path: /apps/123/users/RFN/conversations/sendid
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1b9a2d118d0389b9ae522","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1b9a2d118d0389b9ae522","status":"delivered","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"hi","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","createdAt":"2019-11-05T18:04:18.454Z","updatedAt":"2019-11-05T18:04:18.454Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d38","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:04:18.548Z","status":"sent","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.286Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/conversations/RFN","_id":"5dc1b95fb6415e0c093e2d38"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d4e","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:04:18.636Z","status":"delivered","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.374Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/conversations/sendid","_id":"5dc1b95fb6415e0c093e2d4e"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc1b9a9d118d0389b9ae523","channel_type":"direct","type":"text"}
info: path: /apps/123/users/sendid/conversations/RFN
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1b9a9d118d0389b9ae523","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1b9a9d118d0389b9ae523","status":"sent","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"hi","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","createdAt":"2019-11-05T18:04:25.250Z","updatedAt":"2019-11-05T18:04:25.250Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d38","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:04:25.336Z","status":"sent","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.286Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/conversations/RFN","_id":"5dc1b95fb6415e0c093e2d38"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc1b9a9d118d0389b9ae524","channel_type":"direct","type":"text"}
info: path: /apps/123/users/RFN/conversations/sendid
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1b9a9d118d0389b9ae524","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1b9a9d118d0389b9ae524","status":"delivered","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"hi","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","createdAt":"2019-11-05T18:04:25.250Z","updatedAt":"2019-11-05T18:04:25.250Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d4e","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:04:25.418Z","status":"delivered","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.374Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/conversations/sendid","_id":"5dc1b95fb6415e0c093e2d4e"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onMessageCallback 
info: onPublish/apps/123/users/sendid/conversations/RFN {"sender_id22":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/undefined/messages/RFN
error: uncaughtException: Cannot read property 'toObject' of undefined
TypeError: Cannot read property 'toObject' of undefined
    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:72:45
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"TypeError: Cannot read property 'toObject' of undefined\n    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:72:45\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Tue Nov 05 2019 18:04:48 GMT+0000 (Coordinated Universal Time)","process":{"pid":14491,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54857728,"heapTotal":23883776,"heapUsed":18532576,"external":18324748}},"os":{"loadavg":[0,0,0],"uptime":113524},"trace":[{"column":45,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":72,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":175,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: d7ab8289-673d-4061-b105-c305a92b2a09 {"sender_id22":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/undefined/messages/RFN
error: uncaughtException: Cannot read property 'toObject' of undefined
TypeError: Cannot read property 'toObject' of undefined
    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:73:45
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"TypeError: Cannot read property 'toObject' of undefined\n    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:73:45\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Tue Nov 05 2019 18:15:47 GMT+0000 (Coordinated Universal Time)","process":{"pid":14524,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":61448192,"heapTotal":38039552,"heapUsed":23892624,"external":19732151}},"os":{"loadavg":[0.0732421875,0.01611328125,0.0048828125],"uptime":114183},"trace":[{"column":45,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":73,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":175,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 80c7f95d-e5d7-4213-9aeb-97763e613d6a {"sender_id22":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/undefined/messages/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: missing ) after argument list
/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:69
      console.error("error saving message"err);
                    ^^^^^^^^^^^^^^^^^^^^^^

SyntaxError: missing ) after argument list
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:69\n      console.error(\"error saving message\"err);\n                    ^^^^^^^^^^^^^^^^^^^^^^\n\nSyntaxError: missing ) after argument list\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:27:24)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)","exception":true,"date":"Tue Nov 05 2019 18:16:53 GMT+0000 (Coordinated Universal Time)","process":{"pid":14553,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53305344,"heapTotal":34848768,"heapUsed":16779784,"external":18380017}},"os":{"loadavg":[0.0224609375,0.009765625,0],"uptime":114249},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":24,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":27,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"Module.runMain","line":831,"method":"runMain","native":false},{"column":19,"file":"internal/bootstrap/node.js","function":"startup","line":283,"method":null,"native":false},{"column":3,"file":"internal/bootstrap/node.js","function":"bootstrapNodeJSCore","line":623,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 790240f1-6abc-427b-b737-9916e1313668 {"sender_id22":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/undefined/messages/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: b951e539-2c84-4a0b-8516-4be46f00d825 {"sender_id22":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/undefined/messages/RFN
error: uncaughtException: Cannot read property 'send' of null
TypeError: Cannot read property 'send' of null
    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:70:8
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"TypeError: Cannot read property 'send' of null\n    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:70:8\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Tue Nov 05 2019 18:20:31 GMT+0000 (Coordinated Universal Time)","process":{"pid":14601,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":62550016,"heapTotal":38039552,"heapUsed":24020664,"external":19735371}},"os":{"loadavg":[0.01220703125,0.0205078125,0],"uptime":114467},"trace":[{"column":8,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":70,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":175,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 99912952-ca30-4365-860d-21dda07158b6 {"sender_id22":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/undefined/messages/RFN
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN cac78787-dda8-47f3-b6e2-a9b4fad99cce
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-05T18:04:25.336Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN f44eebc8-8bf7-4fc6-9857-6ac6abd75b09
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN c3ffd181-3cdb-4cef-b2b7-44f2275c7b49
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-05T18:04:25.336Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 0d05b280-482c-4521-9bb7-49a65488b775
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 0d05b280-482c-4521-9bb7-49a65488b775 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc1be577d3acb39183d3919","channel_type":"direct","type":"text"}
info: path: /apps/123/users/sendid/conversations/RFN
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1be577d3acb39183d3919","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1be577d3acb39183d3919","status":"sent","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"hi88","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","createdAt":"2019-11-05T18:24:23.290Z","updatedAt":"2019-11-05T18:24:23.290Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc1be577d3acb39183d391a","channel_type":"direct","type":"text"}
info: path: /apps/123/users/RFN/conversations/sendid
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1be577d3acb39183d391a","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1be577d3acb39183d391a","status":"delivered","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"hi88","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","createdAt":"2019-11-05T18:24:23.290Z","updatedAt":"2019-11-05T18:24:23.290Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d38","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:24:23.392Z","status":"sent","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi88","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.286Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/conversations/RFN","_id":"5dc1b95fb6415e0c093e2d38"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d4e","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:24:23.480Z","status":"delivered","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi88","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.374Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/conversations/sendid","_id":"5dc1b95fb6415e0c093e2d4e"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 05fcabfb-f108-4b59-a9c9-bb36aeda3df1
info: onSubscribeCallback :22
info: onConnectCallback 
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi88","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-05T18:24:23.392Z","type":"text","channel_type":"direct","is_new":false}}
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN ae42a64b-5d51-45fe-89eb-49cabf4ae210
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: ae42a64b-5d51-45fe-89eb-49cabf4ae210 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc1c00fbe115b4013e9832b","channel_type":"direct","type":"text"}
info: path: /apps/123/users/sendid/conversations/RFN
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1c00fbe115b4013e9832b","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1c00fbe115b4013e9832b","status":"sent","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"hi89","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","createdAt":"2019-11-05T18:31:43.450Z","updatedAt":"2019-11-05T18:31:43.450Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d38","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:31:43.547Z","status":"sent","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi89","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.286Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/conversations/RFN","_id":"5dc1b95fb6415e0c093e2d38"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc1c00fbe115b4013e9832c","channel_type":"direct","type":"text"}
info: path: /apps/123/users/RFN/conversations/sendid
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1c00fbe115b4013e9832c","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1c00fbe115b4013e9832c","status":"delivered","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"hi89","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","createdAt":"2019-11-05T18:31:43.450Z","updatedAt":"2019-11-05T18:31:43.450Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d4e","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:31:43.640Z","status":"delivered","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi89","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.374Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/conversations/sendid","_id":"5dc1b95fb6415e0c093e2d4e"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 5dd943a8-c7a2-435a-8f21-b31e0d44e293
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi89","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-05T18:31:43.547Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN d7464514-4199-4161-b16c-383a0d091481
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: d7464514-4199-4161-b16c-383a0d091481 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: messageEvent.emit
info: path send timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc1c0fbbe115b4013e9832d","channel_type":"direct","type":"text"}
info: path: /apps/123/users/sendid/conversations/RFN
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1c0fbbe115b4013e9832d","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1c0fbbe115b4013e9832d","status":"sent","path":"/apps/123/users/sendid/messages/RFN","createdBy":"sendid","app_id":"123","text":"hi891","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","createdAt":"2019-11-05T18:35:39.584Z","updatedAt":"2019-11-05T18:35:39.584Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d38","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:35:39.673Z","status":"sent","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi891","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.286Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/sendid/conversations/RFN","_id":"5dc1b95fb6415e0c093e2d38"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: messageEvent.emit
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc1c0fbbe115b4013e9832e","channel_type":"direct","type":"text"}
info: path: /apps/123/users/RFN/conversations/sendid
info: messageEvent websocket server  {"$__":{"strictMode":true,"inserting":true,"getters":{},"_id":"5dc1c0fbbe115b4013e9832e","wasPopulated":false,"activePaths":{"paths":{"path":"require","createdBy":"require","status":"require","channel_type":"require","type":"require","app_id":"require","text":"require","recipient_id":"require","sender_id":"require","message_id":"require"},"states":{"ignore":{},"default":{},"init":{},"modify":{},"require":{"path":true,"createdBy":true,"status":true,"channel_type":true,"type":true,"app_id":true,"text":true,"recipient_id":true,"sender_id":true,"message_id":true}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"type":"text","channel_type":"direct","_id":"5dc1c0fbbe115b4013e9832e","status":"delivered","path":"/apps/123/users/RFN/messages/sendid","createdBy":"sendid","app_id":"123","text":"hi891","recipient_fullname":"RFN","recipient_id":"RFN","sender_fullname":"SFN","sender_id":"sendid","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","createdAt":"2019-11-05T18:35:39.584Z","updatedAt":"2019-11-05T18:35:39.584Z","__v":0}}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server  {"$__":{"strictMode":true,"selected":{},"getters":{},"_id":"5dc1b95fb6415e0c093e2d4e","wasPopulated":false,"activePaths":{"paths":{"path":"init","createdBy":"init","type":"init","channel_type":"init","status":"init","is_new":"init","app_id":"init","last_message_text":"init","recipient":"init","sender":"init","updatedAt":"init","sender_fullname":"init","recipient_fullname":"init","createdAt":"init","attributes":"init","__v":"init","_id":"init"},"states":{"ignore":{},"default":{},"init":{"updatedAt":true,"type":true,"status":true,"sender_fullname":true,"sender":true,"recipient_fullname":true,"recipient":true,"last_message_text":true,"is_new":true,"createdBy":true,"createdAt":true,"channel_type":true,"attributes":true,"app_id":true,"__v":true,"path":true,"_id":true},"modify":{},"require":{}},"stateNames":["require","modify","init","default","ignore"]},"pathsToScopes":{},"emitter":{"_events":{},"_eventsCount":0,"_maxListeners":0},"$options":true},"isNew":false,"_doc":{"is_new":false,"channel_type":"direct","type":"text","updatedAt":"2019-11-05T18:35:39.763Z","status":"delivered","sender_fullname":"SFN","sender":"sendid","recipient_fullname":"RFN","recipient":"RFN","last_message_text":"hi891","createdBy":"sendid","createdAt":"2019-11-05T18:03:11.374Z","attributes":null,"app_id":"123","__v":0,"path":"/apps/123/users/RFN/conversations/sendid","_id":"5dc1b95fb6415e0c093e2d4e"},"$init":true}
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN f5172fa8-a95d-4620-a146-525d4462d132
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi891","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-05T18:35:39.673Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 9e0ea0d6-ead6-45e6-8990-3d31ba083a65
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 9e0ea0d6-ead6-45e6-8990-3d31ba083a65 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc1c296be37624070660d6e","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc1c296be37624070660d6f","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 08:42:53 GMT+0000 (Coordinated Universal Time)","process":{"pid":3119,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54341632,"heapTotal":34848768,"heapUsed":15338536,"external":18297099}},"os":{"loadavg":[0,0.009765625,0.041015625],"uptime":1019},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: ::ffff:93.69.88.145 - - [08/Nov/2019:08:46:26 +0000] "GET /favicon.ico HTTP/1.1" 404 24 "http://34.254.98.143:3200/wstest/index.html" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.87 Safari/537.36"

info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 345c571c-2152-4220-8740-2ebc8fd1d31e
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi892","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-05T18:42:30.933Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN d3174bd6-f2e5-4842-ba2f-55295f90ecb2
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: d3174bd6-f2e5-4842-ba2f-55295f90ecb2 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc52bbdc58f540d09832ddd","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc52bbdc58f540d09832dde","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: d3174bd6-f2e5-4842-ba2f-55295f90ecb2 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc52bcac58f540d09832ddf","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc52bcac58f540d09832de0","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN d43a1942-ee70-4fe5-ad8f-a7ea63affc38
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi55","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T08:48:10.935Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN b3e8da77-cfae-414e-8c35-fe91cb2962f4
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: b3e8da77-cfae-414e-8c35-fe91cb2962f4 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc52d519b4dd00d818fb8c0","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc52d519b4dd00d818fb8c1","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 7d36e70e-12e1-41e1-aeac-70a6f107ca97
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi55","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T08:54:41.441Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 8f2436bf-272c-45c0-8e4c-515d9cab92d8
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 8f2436bf-272c-45c0-8e4c-515d9cab92d8 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc52da9288d580d92475ad9","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc52da9288d580d92475ada","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 8f2436bf-272c-45c0-8e4c-515d9cab92d8 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc52ecd288d580d92475adb","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc52ecd288d580d92475adc","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN fed9132a-4044-4f8d-9f44-91a5da796274
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi77","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:01:01.282Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 4471030f-8fba-4be3-9aec-3a84d755783f
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 4471030f-8fba-4be3-9aec-3a84d755783f {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc52f6b288d580d92475add","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc52f6b288d580d92475ade","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 88469a7f-d39b-43a7-a3f3-6a1aa4539132
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi771","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:03:39.941Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN c46485e8-7f16-47ae-84fb-6a06d61bf860
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: c46485e8-7f16-47ae-84fb-6a06d61bf860 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc5312b2e4b2e0dbd5bf7af","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc5312b2e4b2e0dbd5bf7b0","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: c46485e8-7f16-47ae-84fb-6a06d61bf860 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc531322e4b2e0dbd5bf7b1","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc531332e4b2e0dbd5bf7b2","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
info: onDisconnectCallback 
info: onDisconnectCallback 
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 09:22:23 GMT+0000 (Coordinated Universal Time)","process":{"pid":3559,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54247424,"heapTotal":34848768,"heapUsed":15338552,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":3389},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 64b7ee5e-6ca8-4494-a79e-0a3fc6d31aef
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi7713","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:11:15.077Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN de3e9cf1-1aa1-40fb-8664-672a3b5ac6ec
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 8cd63dd6-07bd-4ca6-97a3-671dc9cbd30c
info: onSubscribeCallback :22
info: onConnectCallback 
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi7713","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:11:15.077Z","type":"text","channel_type":"direct","is_new":false}}
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 95d2fd4d-13d4-48c5-882d-1f3d2dd0d5f8
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: de3e9cf1-1aa1-40fb-8664-672a3b5ac6ec {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc535de2fb5b40e69edc9d1","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc535de2fb5b40e69edc9d2","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN a4857586-153b-41f0-b8b6-62c203dd18bb
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi771377","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:31:10.558Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 9d897bfa-fc5c-4d71-83e2-c75ab0c4b4a7
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d1","updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/conversations/sendid fee0b383-5456-4f83-ad36-d1cd0e9e5c13
info: onSubscribeCallback :19
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d4e","path":"/apps/123/users/RFN/conversations/sendid","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.374Z","createdBy":"sendid","last_message_text":"hi771377","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"delivered","updatedAt":"2019-11-08T09:31:10.648Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/messages/sendid 9a5a1f1a-86a9-4815-8e3a-9f9fad021068
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5ff","__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c601","__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4f","__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce145","__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305f","__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3061","__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3063","__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623443","__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34e","__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf91","__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be6","__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be8","__v":0,"updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819d","__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7432","__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc91","__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc93","__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc95","__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc97","__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326c","__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326e","__v":0,"updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae522","__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae524","__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d391a","__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832c","__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832e","__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6f","__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832dde","__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832de0","__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c1","__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ada","__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adc","__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475ade","__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7b0","__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"33":{"_id":"5dc531332e4b2e0dbd5bf7b2","__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d2","__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 9d897bfa-fc5c-4d71-83e2-c75ab0c4b4a7 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc5361f2fb5b40e69edc9d3","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc536202fb5b40e69edc9d4","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN b2065362-3481-4150-aaab-38dec2f617c2
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi7713779","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:32:16.073Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 64d24091-6276-4928-8824-2b0b2dfcf3aa
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d1","updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"35":{"_id":"5dc5361f2fb5b40e69edc9d3","updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/conversations/sendid 1de12e7c-2db6-4f05-a581-6b3eee00cf41
info: onSubscribeCallback :19
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d4e","path":"/apps/123/users/RFN/conversations/sendid","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.374Z","createdBy":"sendid","last_message_text":"hi7713779","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"delivered","updatedAt":"2019-11-08T09:32:16.158Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/messages/sendid 196877d7-368c-4da7-9d9c-fcdfbf166cf1
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5ff","__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c601","__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4f","__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce145","__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305f","__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3061","__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3063","__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623443","__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34e","__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf91","__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be6","__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be8","__v":0,"updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819d","__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7432","__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc91","__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc93","__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc95","__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc97","__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326c","__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326e","__v":0,"updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae522","__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae524","__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d391a","__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832c","__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832e","__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6f","__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832dde","__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832de0","__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c1","__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ada","__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adc","__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475ade","__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7b0","__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"33":{"_id":"5dc531332e4b2e0dbd5bf7b2","__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d2","__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"35":{"_id":"5dc536202fb5b40e69edc9d4","__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"}}
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 9e17072a-b81f-4f27-9440-4ab566bc1a1f
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi7713779","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:32:16.073Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 4da31738-7877-4fd8-8b65-6c60b678544d
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d1","updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"35":{"_id":"5dc5361f2fb5b40e69edc9d3","updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/conversations/sendid efbb2553-18b1-4eca-a35a-0f570be7e9ec
info: onSubscribeCallback :19
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d4e","path":"/apps/123/users/RFN/conversations/sendid","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.374Z","createdBy":"sendid","last_message_text":"hi7713779","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"delivered","updatedAt":"2019-11-08T09:32:16.158Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/messages/sendid 43b6596a-8e58-4102-8e0f-ddc48f528a07
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5ff","__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c601","__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4f","__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce145","__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305f","__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3061","__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3063","__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623443","__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34e","__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf91","__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be6","__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be8","__v":0,"updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819d","__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7432","__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc91","__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc93","__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc95","__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc97","__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326c","__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326e","__v":0,"updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae522","__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae524","__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d391a","__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832c","__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832e","__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6f","__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832dde","__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832de0","__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c1","__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ada","__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adc","__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475ade","__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7b0","__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"33":{"_id":"5dc531332e4b2e0dbd5bf7b2","__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d2","__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"35":{"_id":"5dc536202fb5b40e69edc9d4","__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"}}
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN f81f4f42-3644-477b-98e7-f3d9e21f11c4
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi7713779","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T09:32:16.073Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN abf40334-b415-470b-860f-dd1f85dbc03b
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d1","updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"35":{"_id":"5dc5361f2fb5b40e69edc9d3","updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/conversations/sendid 64c4fdb3-ab08-4ab6-bafc-575b30f3d411
info: onSubscribeCallback :19
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d4e","path":"/apps/123/users/RFN/conversations/sendid","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.374Z","createdBy":"sendid","last_message_text":"hi7713779","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"delivered","updatedAt":"2019-11-08T09:32:16.158Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/messages/sendid 0d519611-a434-449d-96a7-e58ad81524b1
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5ff","__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c601","__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4f","__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce145","__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305f","__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3061","__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3063","__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623443","__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34e","__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf91","__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be6","__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be8","__v":0,"updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819d","__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7432","__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc91","__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc93","__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc95","__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc97","__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326c","__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326e","__v":0,"updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae522","__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae524","__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d391a","__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832c","__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832e","__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6f","__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832dde","__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832de0","__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c1","__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ada","__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adc","__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475ade","__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7b0","__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"33":{"_id":"5dc531332e4b2e0dbd5bf7b2","__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d2","__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"35":{"_id":"5dc536202fb5b40e69edc9d4","__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: abf40334-b415-470b-860f-dd1f85dbc03b {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc552d52fb5b40e69edc9d5","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc552d52fb5b40e69edc9d6","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: abf40334-b415-470b-860f-dd1f85dbc03b {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc552e02fb5b40e69edc9d7","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc552e02fb5b40e69edc9d8","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN ad820baa-2f4d-4a99-b4f2-ad5a8c00a7ed
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi771377909","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T11:34:56.612Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN 0e37bb93-94d8-497c-9214-f8641293aa2d
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d1","updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"35":{"_id":"5dc5361f2fb5b40e69edc9d3","updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"36":{"_id":"5dc552d52fb5b40e69edc9d5","updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"37":{"_id":"5dc552e02fb5b40e69edc9d7","updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/conversations/sendid 2dda30e8-495a-42e3-9d44-0a48c5209037
info: onSubscribeCallback :19
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d4e","path":"/apps/123/users/RFN/conversations/sendid","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.374Z","createdBy":"sendid","last_message_text":"hi771377909","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"delivered","updatedAt":"2019-11-08T11:34:56.696Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/messages/sendid f28b2c90-511c-4f7f-9a14-ea512934ca75
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5ff","__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c601","__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4f","__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce145","__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305f","__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3061","__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3063","__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623443","__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34e","__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf91","__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be6","__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be8","__v":0,"updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819d","__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7432","__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc91","__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc93","__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc95","__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc97","__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326c","__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326e","__v":0,"updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae522","__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae524","__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d391a","__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832c","__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832e","__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6f","__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832dde","__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832de0","__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c1","__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ada","__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adc","__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475ade","__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7b0","__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"33":{"_id":"5dc531332e4b2e0dbd5bf7b2","__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d2","__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"35":{"_id":"5dc536202fb5b40e69edc9d4","__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"36":{"_id":"5dc552d52fb5b40e69edc9d6","__v":0,"updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"37":{"_id":"5dc552e02fb5b40e69edc9d8","__v":0,"updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 0e37bb93-94d8-497c-9214-f8641293aa2d {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T11:39:43.221Z","createdAt":"2019-11-08T11:39:43.221Z","message_id":"33787f04-851e-4603-8157-ecca82c7e684","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc553ffbc87e80f8cdb5d53","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T11:39:43.221Z","createdAt":"2019-11-08T11:39:43.221Z","message_id":"33787f04-851e-4603-8157-ecca82c7e684","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc553ffbc87e80f8cdb5d54","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 13:52:28 GMT+0000 (Coordinated Universal Time)","process":{"pid":4021,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53960704,"heapTotal":34848768,"heapUsed":15340040,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":19594},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 14:13:03 GMT+0000 (Coordinated Universal Time)","process":{"pid":4356,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54214656,"heapTotal":34848768,"heapUsed":15340040,"external":18297099}},"os":{"loadavg":[0.0732421875,0.01611328125,0.0048828125],"uptime":20830},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/events/messageEvent.js:78
  } else if () {
             ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/events/messageEvent.js:78\n  } else if () {\n             ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/message.js:9:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:39:15)","exception":true,"date":"Fri Nov 08 2019 14:13:11 GMT+0000 (Coordinated Universal Time)","process":{"pid":4381,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54448128,"heapTotal":34848768,"heapUsed":15672232,"external":18303782}},"os":{"loadavg":[0.14208984375,0.0322265625,0.009765625],"uptime":20837},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/routes/message.js","function":null,"line":9,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":39,"method":null,"native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 14:13:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":4408,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53297152,"heapTotal":34848768,"heapUsed":15338544,"external":18297099}},"os":{"loadavg":[0.08447265625,0.02783203125,0.0068359375],"uptime":20868},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 762a787b-62b6-4b8d-b515-545fc4afe1f5 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","channel_type":"group"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:14:36.193Z","createdAt":"2019-11-08T14:14:36.193Z","message_id":"e98eebaa-68bd-47f7-a11b-6bf394060777","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc5784cf8dab411caa14c1d","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:14:36.193Z","createdAt":"2019-11-08T14:14:36.193Z","message_id":"e98eebaa-68bd-47f7-a11b-6bf394060777","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc5784cf8dab411caa14c1e","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 14:15:17 GMT+0000 (Coordinated Universal Time)","process":{"pid":4568,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53141504,"heapTotal":34848768,"heapUsed":15566600,"external":18297099}},"os":{"loadavg":[0.03955078125,0.02880859375,0.00341796875],"uptime":20963},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 05de8b91-f197-497f-93e0-d5fffa229d2b {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","channel_type":"group"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:15:25.065Z","createdAt":"2019-11-08T14:15:25.065Z","message_id":"0e8b3e35-99bf-49db-ab22-e36b386781ca","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc5787d52f04611e1862afc","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:15:25.065Z","createdAt":"2019-11-08T14:15:25.065Z","message_id":"0e8b3e35-99bf-49db-ab22-e36b386781ca","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc5787d52f04611e1862afd","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 14:17:16 GMT+0000 (Coordinated Universal Time)","process":{"pid":4598,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54054912,"heapTotal":34848768,"heapUsed":15566152,"external":18297099}},"os":{"loadavg":[0.0029296875,0.01708984375,0],"uptime":21082},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 019bba82-f606-4c3c-9ee8-d7b0709d462b {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","channel_type":"group"}
info: path: /apps/123/users/sendid/messages/RFN
error: uncaughtException: Cannot create property 'Symbol(level)' on string 'group msg'
TypeError: Cannot create property 'Symbol(level)' on string 'group msg'
    at DerivedLogger.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/logger.js:208:20)
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:79:10)
    at MessageEvent.emit (events.js:198:13)
    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:27:21)
    at MessageEvent.emit (events.js:203:15)
    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:83:18
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"TypeError: Cannot create property 'Symbol(level)' on string 'group msg'\n    at DerivedLogger.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/logger.js:208:20)\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:79:10)\n    at MessageEvent.emit (events.js:198:13)\n    at MessageEvent.<anonymous> (/home/ubuntu/dev/chat21-server/events/messageEvent.js:27:21)\n    at MessageEvent.emit (events.js:203:15)\n    at /home/ubuntu/dev/chat21-server/websocket/webSocketServer.js:83:18\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:170:20\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Fri Nov 08 2019 14:17:21 GMT+0000 (Coordinated Universal Time)","process":{"pid":4607,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":63045632,"heapTotal":38039552,"heapUsed":24729312,"external":19859860}},"os":{"loadavg":[0.00244140625,0.0166015625,0],"uptime":21088},"trace":[{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/logger.js","function":"DerivedLogger.log","line":208,"method":"log","native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":79,"method":null,"native":false},{"column":13,"file":"events.js","function":"MessageEvent.emit","line":198,"method":"emit","native":false},{"column":21,"file":"/home/ubuntu/dev/chat21-server/events/messageEvent.js","function":null,"line":27,"method":null,"native":false},{"column":15,"file":"events.js","function":"MessageEvent.emit","line":203,"method":"emit","native":false},{"column":18,"file":"/home/ubuntu/dev/chat21-server/websocket/webSocketServer.js","function":null,"line":83,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":170,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 14:18:13 GMT+0000 (Coordinated Universal Time)","process":{"pid":4626,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53354496,"heapTotal":34848768,"heapUsed":15567936,"external":18297099}},"os":{"loadavg":[0,0.01171875,0],"uptime":21139},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: de4276cc-8b38-44ce-a90c-afb02004f370 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","channel_type":"group"}
info: path: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:18:17.372Z","createdAt":"2019-11-08T14:18:17.372Z","message_id":"9ceb3967-ee0d-4bba-8ed9-102b5580b58d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc579292c476b121b86ce9c","channel_type":"group","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: de4276cc-8b38-44ce-a90c-afb02004f370 {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","channel_type":"group"}
info: path: /apps/123/users/sendid/messages/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:19:27.545Z","createdAt":"2019-11-08T14:19:27.545Z","message_id":"e27c77c5-4918-4646-8136-04c3d49bcbfc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc5796f2c476b121b86ce9e","channel_type":"group","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 14:20:10 GMT+0000 (Coordinated Universal Time)","process":{"pid":4655,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":52862976,"heapTotal":34848768,"heapUsed":15567592,"external":18297099}},"os":{"loadavg":[0.16015625,0.03369140625,0.0107421875],"uptime":21257},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: 5e5e4fef-9161-43db-a28a-34df62a7282e {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","channel_type":"group"}
info: path: /apps/123/users/sendid/messages/RFN
info: group msg
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:20:14.832Z","createdAt":"2019-11-08T14:20:14.832Z","message_id":"5233c502-8ba5-4d60-a059-b75f3cc704c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc5799ee554fe1238f33e38","channel_type":"group","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: group not found: RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 732a0627-0fd1-494e-ac4a-81823b06617a
info: onSubscribeCallback :22
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T14:20:14.941Z","type":"text","channel_type":"group","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN a4149af9-fea3-4659-9516-fde4a23e165e
info: onSubscribeCallback :-1
info: onConnectCallback 
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d1","updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"35":{"_id":"5dc5361f2fb5b40e69edc9d3","updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"36":{"_id":"5dc552d52fb5b40e69edc9d5","updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"37":{"_id":"5dc552e02fb5b40e69edc9d7","updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"38":{"_id":"5dc553ffbc87e80f8cdb5d53","updatedAt":"2019-11-08T11:39:43.221Z","createdAt":"2019-11-08T11:39:43.221Z","message_id":"33787f04-851e-4603-8157-ecca82c7e684","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"39":{"_id":"5dc5784cf8dab411caa14c1d","updatedAt":"2019-11-08T14:14:36.193Z","createdAt":"2019-11-08T14:14:36.193Z","message_id":"e98eebaa-68bd-47f7-a11b-6bf394060777","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"40":{"_id":"5dc5787d52f04611e1862afc","updatedAt":"2019-11-08T14:15:25.065Z","createdAt":"2019-11-08T14:15:25.065Z","message_id":"0e8b3e35-99bf-49db-ab22-e36b386781ca","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"41":{"_id":"5dc578f1a7560811ff81eef8","updatedAt":"2019-11-08T14:17:21.813Z","createdAt":"2019-11-08T14:17:21.813Z","message_id":"ff018841-5203-4b99-b149-133ad3ddea45","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"},"42":{"_id":"5dc579292c476b121b86ce9c","updatedAt":"2019-11-08T14:18:17.372Z","createdAt":"2019-11-08T14:18:17.372Z","message_id":"9ceb3967-ee0d-4bba-8ed9-102b5580b58d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"},"43":{"_id":"5dc5796f2c476b121b86ce9e","updatedAt":"2019-11-08T14:19:27.545Z","createdAt":"2019-11-08T14:19:27.545Z","message_id":"e27c77c5-4918-4646-8136-04c3d49bcbfc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"},"44":{"_id":"5dc5799ee554fe1238f33e38","updatedAt":"2019-11-08T14:20:14.832Z","createdAt":"2019-11-08T14:20:14.832Z","message_id":"5233c502-8ba5-4d60-a059-b75f3cc704c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"}}
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/conversations/sendid 90bfcdce-8d0b-4d9b-b2ea-cfb0dc747796
info: onSubscribeCallback :19
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d4e","path":"/apps/123/users/RFN/conversations/sendid","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.374Z","createdBy":"sendid","last_message_text":"hi","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"delivered","updatedAt":"2019-11-08T14:15:25.274Z","type":"text","channel_type":"direct","is_new":false}}
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/messages/sendid 3ac78257-faa9-470f-a504-242b9945c270
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5ff","__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c601","__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4f","__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce145","__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305f","__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3061","__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3063","__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623443","__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34e","__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf91","__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be6","__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be8","__v":0,"updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819d","__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7432","__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc91","__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc93","__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc95","__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc97","__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326c","__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326e","__v":0,"updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae522","__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae524","__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d391a","__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832c","__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832e","__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6f","__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832dde","__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832de0","__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c1","__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ada","__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adc","__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475ade","__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7b0","__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"33":{"_id":"5dc531332e4b2e0dbd5bf7b2","__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d2","__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"35":{"_id":"5dc536202fb5b40e69edc9d4","__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"36":{"_id":"5dc552d52fb5b40e69edc9d6","__v":0,"updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"37":{"_id":"5dc552e02fb5b40e69edc9d8","__v":0,"updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"38":{"_id":"5dc553ffbc87e80f8cdb5d54","__v":0,"updatedAt":"2019-11-08T11:39:43.221Z","createdAt":"2019-11-08T11:39:43.221Z","message_id":"33787f04-851e-4603-8157-ecca82c7e684","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"39":{"_id":"5dc5784cf8dab411caa14c1e","__v":0,"updatedAt":"2019-11-08T14:14:36.193Z","createdAt":"2019-11-08T14:14:36.193Z","message_id":"e98eebaa-68bd-47f7-a11b-6bf394060777","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"40":{"_id":"5dc5787d52f04611e1862afd","__v":0,"updatedAt":"2019-11-08T14:15:25.065Z","createdAt":"2019-11-08T14:15:25.065Z","message_id":"0e8b3e35-99bf-49db-ab22-e36b386781ca","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onPublish topic: /apps/123/users/sendid/conversations/RFN from: a4149af9-fea3-4659-9516-fde4a23e165e {"sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi44","app_id":"123"}
info: path: /apps/123/users/sendid/messages/RFN
info: send direct message to recipient timeline: /apps/123/users/RFN/messages/sendid
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:21:27.034Z","createdAt":"2019-11-08T14:21:27.034Z","message_id":"0f458ea9-c69d-40dc-b582-b4225724546c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi44","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","_id":"5dc579e7e554fe1238f33e3a","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/sendid/conversations/RFN
info: messageEvent create message websocket server topic: /apps/123/users/sendid/messages/RFN
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/sendid/conversations/RFN
info: create conv for msg  {"__v":0,"updatedAt":"2019-11-08T14:21:27.034Z","createdAt":"2019-11-08T14:21:27.034Z","message_id":"0f458ea9-c69d-40dc-b582-b4225724546c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi44","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","_id":"5dc579e7e554fe1238f33e3b","channel_type":"direct","type":"text"}
info: create conversation with path: /apps/123/users/RFN/conversations/sendid
info: messageEvent create message websocket server topic: /apps/123/users/RFN/messages/sendid
info: conversationEvent update emit
info: conversationEvent update websocket server topic: /apps/123/users/RFN/conversations/sendid
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 15:17:55 GMT+0000 (Coordinated Universal Time)","process":{"pid":4831,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53137408,"heapTotal":34848768,"heapUsed":15566672,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":24722},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module './routes/auth'
Error: Cannot find module './routes/auth'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module './routes/auth'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:17:55 GMT+0000 (Coordinated Universal Time)","process":{"pid":4840,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53366784,"heapTotal":34848768,"heapUsed":16281304,"external":18312030}},"os":{"loadavg":[0,0,0],"uptime":24722},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 15:18:14 GMT+0000 (Coordinated Universal Time)","process":{"pid":4857,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53059584,"heapTotal":34848768,"heapUsed":15566280,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":24741},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module './routes/auth'
Error: Cannot find module './routes/auth'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module './routes/auth'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:18:14 GMT+0000 (Coordinated Universal Time)","process":{"pid":4866,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54087680,"heapTotal":34848768,"heapUsed":16281416,"external":18312030}},"os":{"loadavg":[0,0,0],"uptime":24741},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module './routes/auth'
Error: Cannot find module './routes/auth'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module './routes/auth'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:18:51 GMT+0000 (Coordinated Universal Time)","process":{"pid":4994,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53694464,"heapTotal":34848768,"heapUsed":16201648,"external":18312030}},"os":{"loadavg":[0,0,0],"uptime":24778},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token )
/home/ubuntu/dev/chat21-server/routes/auth.js:55
      }).catch(function (err) {
       ^

SyntaxError: Unexpected token )
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/auth.js:55\n      }).catch(function (err) {\n       ^\n\nSyntaxError: Unexpected token )\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Fri Nov 08 2019 15:19:04 GMT+0000 (Coordinated Universal Time)","process":{"pid":5024,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53514240,"heapTotal":34848768,"heapUsed":16078672,"external":18321970}},"os":{"loadavg":[0.080078125,0.0166015625,0.00537109375],"uptime":24790},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected token }
/home/ubuntu/dev/chat21-server/routes/auth.js:107
});
^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/routes/auth.js:107\n});\n^\n\nSyntaxError: Unexpected token }\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)","exception":true,"date":"Fri Nov 08 2019 15:19:39 GMT+0000 (Coordinated Universal Time)","process":{"pid":5051,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54427648,"heapTotal":34848768,"heapUsed":16221920,"external":18321962}},"os":{"loadavg":[0.04296875,0.01318359375,0.001953125],"uptime":24825},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module 'bcrypt-nodejs'
Error: Cannot find module 'bcrypt-nodejs'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/models/user.js:3:14)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:5:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'bcrypt-nodejs'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/models/user.js:3:14)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:5:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:20:06 GMT+0000 (Coordinated Universal Time)","process":{"pid":5077,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54550528,"heapTotal":34848768,"heapUsed":18405912,"external":18753440}},"os":{"loadavg":[0.02734375,0.0107421875,0],"uptime":24853},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":14,"file":"/home/ubuntu/dev/chat21-server/models/user.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":5,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module 'bcrypt-nodejs'
Error: Cannot find module 'bcrypt-nodejs'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/models/user.js:3:14)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:5:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'bcrypt-nodejs'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/models/user.js:3:14)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:5:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:20:12 GMT+0000 (Coordinated Universal Time)","process":{"pid":5103,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54693888,"heapTotal":34848768,"heapUsed":18404056,"external":18753440}},"os":{"loadavg":[0.02490234375,0.01025390625,0],"uptime":24858},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":14,"file":"/home/ubuntu/dev/chat21-server/models/user.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":5,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module 'bcrypt-nodejs'
Error: Cannot find module 'bcrypt-nodejs'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/models/user.js:3:14)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:5:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'bcrypt-nodejs'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/models/user.js:3:14)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:5:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:21:09 GMT+0000 (Coordinated Universal Time)","process":{"pid":5129,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55078912,"heapTotal":34848768,"heapUsed":18403816,"external":18753440}},"os":{"loadavg":[0.0068359375,0.00439453125,0],"uptime":24915},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":14,"file":"/home/ubuntu/dev/chat21-server/models/user.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":5,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module 'uniqid'
Error: Cannot find module 'uniqid'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:6:14)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'uniqid'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:6:14)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:21:23 GMT+0000 (Coordinated Universal Time)","process":{"pid":5167,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54411264,"heapTotal":34848768,"heapUsed":18733272,"external":18779588}},"os":{"loadavg":[0.1591796875,0.037109375,0.0107421875],"uptime":24930},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":14,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":6,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../event/authEvent'
Error: Cannot find module '../event/authEvent'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:11:17)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../event/authEvent'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:11:17)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:21:59 GMT+0000 (Coordinated Universal Time)","process":{"pid":5193,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55017472,"heapTotal":34848768,"heapUsed":18583504,"external":18779556}},"os":{"loadavg":[0.08740234375,0.0302734375,0.00732421875],"uptime":24966},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":11,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../event/authEvent'
Error: Cannot find module '../event/authEvent'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:11:17)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../event/authEvent'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:11:17)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:22:42 GMT+0000 (Coordinated Universal Time)","process":{"pid":5222,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55447552,"heapTotal":34848768,"heapUsed":18584288,"external":18779556}},"os":{"loadavg":[0.04296875,0.02587890625,0.00341796875],"uptime":25008},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":11,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module 'passport'
Error: Cannot find module 'passport'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:13:16)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'passport'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:13:16)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:23:34 GMT+0000 (Coordinated Universal Time)","process":{"pid":5262,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54161408,"heapTotal":34848768,"heapUsed":18745344,"external":18779557}},"os":{"loadavg":[0.01513671875,0.0205078125,0],"uptime":25060},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":13,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module 'passport'
Error: Cannot find module 'passport'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:13:16)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module 'passport'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:13:16)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:24:21 GMT+0000 (Coordinated Universal Time)","process":{"pid":5299,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55050240,"heapTotal":34848768,"heapUsed":18750120,"external":18779557}},"os":{"loadavg":[0.0791015625,0.03271484375,0.0048828125],"uptime":25108},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":13,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../middleware/passport'
Error: Cannot find module '../middleware/passport'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../middleware/passport'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:24:30 GMT+0000 (Coordinated Universal Time)","process":{"pid":5324,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54730752,"heapTotal":34848768,"heapUsed":19006904,"external":18814708}},"os":{"loadavg":[0.294921875,0.0810546875,0.02099609375],"uptime":25116},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":1,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: require(...) is not a function
TypeError: require(...) is not a function
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:34)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18) {"error":{},"stack":"TypeError: require(...) is not a function\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:34)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)","exception":true,"date":"Fri Nov 08 2019 15:24:51 GMT+0000 (Coordinated Universal Time)","process":{"pid":5344,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55447552,"heapTotal":35373056,"heapUsed":19015552,"external":18822900}},"os":{"loadavg":[0.21044921875,0.0751953125,0.01904296875],"uptime":25137},"trace":[{"column":34,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/middleware/passport.js:38
  winston.debug("passport opts: ", opts);
  ^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/middleware/passport.js:38\n  winston.debug(\"passport opts: \", opts);\n  ^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)","exception":true,"date":"Fri Nov 08 2019 15:30:37 GMT+0000 (Coordinated Universal Time)","process":{"pid":5381,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54759424,"heapTotal":34848768,"heapUsed":18871128,"external":18822900}},"os":{"loadavg":[0,0.015625,0],"uptime":25483},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":1,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: missing ) after argument list
/home/ubuntu/dev/chat21-server/middleware/passport.js:64
    }
    ^

SyntaxError: missing ) after argument list
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/middleware/passport.js:64\n    }\n    ^\n\nSyntaxError: missing ) after argument list\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)","exception":true,"date":"Fri Nov 08 2019 15:34:14 GMT+0000 (Coordinated Universal Time)","process":{"pid":5409,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55508992,"heapTotal":35373056,"heapUsed":18869792,"external":18822900}},"os":{"loadavg":[0.080078125,0.0166015625,0.00537109375],"uptime":25700},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":1,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: missing ) after argument list
/home/ubuntu/dev/chat21-server/middleware/passport.js:68
  });
   ^

SyntaxError: missing ) after argument list
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/middleware/passport.js:68\n  });\n   ^\n\nSyntaxError: missing ) after argument list\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)","exception":true,"date":"Fri Nov 08 2019 15:35:18 GMT+0000 (Coordinated Universal Time)","process":{"pid":5435,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":54882304,"heapTotal":34848768,"heapUsed":18870288,"external":18822900}},"os":{"loadavg":[0.02734375,0.0107421875,0],"uptime":25765},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":1,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: JwtStrategy requires a secret or key
TypeError: JwtStrategy requires a secret or key
    at new JwtStrategy (/home/ubuntu/dev/chat21-server/node_modules/passport-jwt/lib/strategy.js:45:15)
    at module.exports (/home/ubuntu/dev/chat21-server/middleware/passport.js:29:16)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:34)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3) {"error":{},"stack":"TypeError: JwtStrategy requires a secret or key\n    at new JwtStrategy (/home/ubuntu/dev/chat21-server/node_modules/passport-jwt/lib/strategy.js:45:15)\n    at module.exports (/home/ubuntu/dev/chat21-server/middleware/passport.js:29:16)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:34)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)","exception":true,"date":"Fri Nov 08 2019 15:35:43 GMT+0000 (Coordinated Universal Time)","process":{"pid":5469,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56238080,"heapTotal":35373056,"heapUsed":19991168,"external":18959013}},"os":{"loadavg":[0.0166015625,0.00830078125,0],"uptime":25790},"trace":[{"column":15,"file":"/home/ubuntu/dev/chat21-server/node_modules/passport-jwt/lib/strategy.js","function":"new JwtStrategy","line":45,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/middleware/passport.js","function":"module.exports","line":29,"method":"exports","native":false},{"column":34,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Unexpected identifier
/home/ubuntu/dev/chat21-server/middleware/passport.js:23
            secretOrKey: config.secret,
            ^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12) {"error":{},"stack":"/home/ubuntu/dev/chat21-server/middleware/passport.js:23\n            secretOrKey: config.secret,\n            ^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:1)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)","exception":true,"date":"Fri Nov 08 2019 15:36:10 GMT+0000 (Coordinated Universal Time)","process":{"pid":5488,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55554048,"heapTotal":35373056,"heapUsed":18871944,"external":18822900}},"os":{"loadavg":[0.0087890625,0.00537109375,0],"uptime":25816},"trace":[{"column":23,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":723,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":1,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: JwtStrategy requires a secret or key
TypeError: JwtStrategy requires a secret or key
    at new JwtStrategy (/home/ubuntu/dev/chat21-server/node_modules/passport-jwt/lib/strategy.js:45:15)
    at module.exports (/home/ubuntu/dev/chat21-server/middleware/passport.js:29:16)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:34)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3) {"error":{},"stack":"TypeError: JwtStrategy requires a secret or key\n    at new JwtStrategy (/home/ubuntu/dev/chat21-server/node_modules/passport-jwt/lib/strategy.js:45:15)\n    at module.exports (/home/ubuntu/dev/chat21-server/middleware/passport.js:29:16)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:14:34)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)","exception":true,"date":"Fri Nov 08 2019 15:36:26 GMT+0000 (Coordinated Universal Time)","process":{"pid":5503,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56254464,"heapTotal":35373056,"heapUsed":20121992,"external":18959013}},"os":{"loadavg":[0.005859375,0.00390625,0],"uptime":25832},"trace":[{"column":15,"file":"/home/ubuntu/dev/chat21-server/node_modules/passport-jwt/lib/strategy.js","function":"new JwtStrategy","line":45,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/middleware/passport.js","function":"module.exports","line":29,"method":"exports","native":false},{"column":34,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":14,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../middleware/valid-token'
Error: Cannot find module '../middleware/valid-token'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:15:18)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../middleware/valid-token'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:15:18)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Fri Nov 08 2019 15:37:09 GMT+0000 (Coordinated Universal Time)","process":{"pid":5524,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":55521280,"heapTotal":35373056,"heapUsed":19999088,"external":18959013}},"os":{"loadavg":[0.001953125,0,0],"uptime":25875},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":18,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":15,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: noentitycheck is not defined
ReferenceError: noentitycheck is not defined
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:111:3)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18) {"error":{},"stack":"ReferenceError: noentitycheck is not defined\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:111:3)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)","exception":true,"date":"Fri Nov 08 2019 15:37:58 GMT+0000 (Coordinated Universal Time)","process":{"pid":5552,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56160256,"heapTotal":35373056,"heapUsed":20016392,"external":18959013}},"os":{"loadavg":[0,0,0],"uptime":25924},"trace":[{"column":3,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":111,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: noentitycheck is not defined
ReferenceError: noentitycheck is not defined
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:111:3)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18) {"error":{},"stack":"ReferenceError: noentitycheck is not defined\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/auth.js:111:3)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:41:12)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)","exception":true,"date":"Fri Nov 08 2019 15:43:11 GMT+0000 (Coordinated Universal Time)","process":{"pid":5590,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56033280,"heapTotal":35373056,"heapUsed":20014600,"external":18959013}},"os":{"loadavg":[0,0,0],"uptime":26237},"trace":[{"column":3,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":111,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":41,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onDisconnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/conversations/RFN 69f61df5-cdb1-464b-99e5-3d145ee3c3a4
info: onSubscribeCallback :22
info: onConnectCallback 
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d38","path":"/apps/123/users/sendid/conversations/RFN","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.286Z","createdBy":"sendid","last_message_text":"hi44","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"sent","updatedAt":"2019-11-08T14:21:27.120Z","type":"text","channel_type":"direct","is_new":false}}
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/sendid/messages/RFN f70d60b2-9f14-40ac-82ee-59ca24e18fc5
info: onSubscribeCallback :-1
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/conversations/sendid f424b6f7-7991-4a71-adef-ec6409545178
info: onSubscribeCallback :19
info: onSubscribeCallback find {"0":{"_id":"5dc1b95fb6415e0c093e2d4e","path":"/apps/123/users/RFN/conversations/sendid","__v":0,"app_id":"123","attributes":null,"createdAt":"2019-11-05T18:03:11.374Z","createdBy":"sendid","last_message_text":"hi44","recipient":"RFN","recipient_fullname":"RFN","sender":"sendid","sender_fullname":"SFN","status":"delivered","updatedAt":"2019-11-08T14:21:27.210Z","type":"text","channel_type":"direct","is_new":false}}
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5fe","updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c600","updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4e","updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce144","updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305e","updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3060","updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3062","updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623442","updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34d","updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf90","updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be5","updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be7","updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819c","updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7431","updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc90","updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc92","updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc94","updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc96","updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326b","updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326d","updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae521","updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae523","updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d3919","updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832b","updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832d","updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6e","updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832ddd","updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832ddf","updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c0","updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ad9","updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adb","updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475add","updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7af","updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"33":{"_id":"5dc531322e4b2e0dbd5bf7b1","updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d1","updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"35":{"_id":"5dc5361f2fb5b40e69edc9d3","updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"36":{"_id":"5dc552d52fb5b40e69edc9d5","updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"37":{"_id":"5dc552e02fb5b40e69edc9d7","updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"38":{"_id":"5dc553ffbc87e80f8cdb5d53","updatedAt":"2019-11-08T11:39:43.221Z","createdAt":"2019-11-08T11:39:43.221Z","message_id":"33787f04-851e-4603-8157-ecca82c7e684","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"39":{"_id":"5dc5784cf8dab411caa14c1d","updatedAt":"2019-11-08T14:14:36.193Z","createdAt":"2019-11-08T14:14:36.193Z","message_id":"e98eebaa-68bd-47f7-a11b-6bf394060777","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"40":{"_id":"5dc5787d52f04611e1862afc","updatedAt":"2019-11-08T14:15:25.065Z","createdAt":"2019-11-08T14:15:25.065Z","message_id":"0e8b3e35-99bf-49db-ab22-e36b386781ca","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"},"41":{"_id":"5dc578f1a7560811ff81eef8","updatedAt":"2019-11-08T14:17:21.813Z","createdAt":"2019-11-08T14:17:21.813Z","message_id":"ff018841-5203-4b99-b149-133ad3ddea45","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"},"42":{"_id":"5dc579292c476b121b86ce9c","updatedAt":"2019-11-08T14:18:17.372Z","createdAt":"2019-11-08T14:18:17.372Z","message_id":"9ceb3967-ee0d-4bba-8ed9-102b5580b58d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"},"43":{"_id":"5dc5796f2c476b121b86ce9e","updatedAt":"2019-11-08T14:19:27.545Z","createdAt":"2019-11-08T14:19:27.545Z","message_id":"e27c77c5-4918-4646-8136-04c3d49bcbfc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"},"44":{"_id":"5dc5799ee554fe1238f33e38","updatedAt":"2019-11-08T14:20:14.832Z","createdAt":"2019-11-08T14:20:14.832Z","message_id":"5233c502-8ba5-4d60-a059-b75f3cc704c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"group","type":"text"},"45":{"_id":"5dc579e7e554fe1238f33e3a","updatedAt":"2019-11-08T14:21:27.034Z","createdAt":"2019-11-08T14:21:27.034Z","message_id":"0f458ea9-c69d-40dc-b582-b4225724546c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi44","app_id":"123","createdBy":"sendid","path":"/apps/123/users/sendid/messages/RFN","status":"sent","__v":0,"channel_type":"direct","type":"text"}}
info: onMessageCallback 
info: onSubscribeCallback :/apps/123/users/RFN/messages/sendid a1f082d1-410f-4438-8940-d698afbf3c2e
info: onSubscribeCallback :-1
info: onSubscribeCallback find {"0":{"_id":"5dc00bc8aaf41c0c18a3c5ff","__v":0,"updatedAt":"2019-11-04T11:30:16.118Z","createdAt":"2019-11-04T11:30:16.118Z","message_id":"ae5d865c-9215-439f-a829-fcbf18847561","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"1":{"_id":"5dc00bd8aaf41c0c18a3c601","__v":0,"updatedAt":"2019-11-04T11:30:32.650Z","createdAt":"2019-11-04T11:30:32.650Z","message_id":"255f11c4-78ae-4ccf-94d5-54cac490b4fa","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"2":{"_id":"5dc00f5c9295820d499ffa4f","__v":0,"updatedAt":"2019-11-04T11:45:32.706Z","createdAt":"2019-11-04T11:45:32.706Z","message_id":"c834f900-4e4b-4e2a-92f8-3d1cdeff0476","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"3":{"_id":"5dc0114fd555d60eaabce145","__v":0,"updatedAt":"2019-11-04T11:53:51.419Z","createdAt":"2019-11-04T11:53:51.419Z","message_id":"6352b58a-6cf0-4f47-8319-d01f86a537bb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"4":{"_id":"5dc012dfc85f150ec93e305f","__v":0,"updatedAt":"2019-11-04T12:00:31.472Z","createdAt":"2019-11-04T12:00:31.472Z","message_id":"4dea755e-005d-483b-97e6-b31c5250dd52","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"5":{"_id":"5dc012ffc85f150ec93e3061","__v":0,"updatedAt":"2019-11-04T12:01:03.660Z","createdAt":"2019-11-04T12:01:03.660Z","message_id":"af643860-0f8c-4ef5-af88-f24591ec8372","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"6":{"_id":"5dc01321c85f150ec93e3063","__v":0,"updatedAt":"2019-11-04T12:01:37.664Z","createdAt":"2019-11-04T12:01:37.664Z","message_id":"ac17a1be-eb6a-46c8-8e0f-4d9aa94829a1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"7":{"_id":"5dc0179f89998f1117623443","__v":0,"updatedAt":"2019-11-04T12:20:47.422Z","createdAt":"2019-11-04T12:20:47.422Z","message_id":"462624ab-4d40-4ba3-9159-d2ac8bf15e00","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"8":{"_id":"5dc0183d4d5a831142dbb34e","__v":0,"updatedAt":"2019-11-04T12:23:25.486Z","createdAt":"2019-11-04T12:23:25.486Z","message_id":"2423b8dd-a636-422f-a791-f3e6a4f625b2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"9":{"_id":"5dc01874afa04b115494bf91","__v":0,"updatedAt":"2019-11-04T12:24:20.781Z","createdAt":"2019-11-04T12:24:20.781Z","message_id":"3f6dcf8e-64bc-4e37-ac69-db7e0fdcc9e7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"10":{"_id":"5dc0195300516c11816f6be6","__v":0,"updatedAt":"2019-11-04T12:28:03.297Z","createdAt":"2019-11-04T12:28:03.297Z","message_id":"25f3bb75-8b4f-4550-b665-f981f1b8a1cb","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"11":{"_id":"5dc0197500516c11816f6be8","__v":0,"updatedAt":"2019-11-04T12:28:37.301Z","createdAt":"2019-11-04T12:28:37.301Z","message_id":"66d8bac0-1309-49b9-8165-2327d9a00c4c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"12":{"_id":"5dc019dae5d30a11a344819d","__v":0,"updatedAt":"2019-11-04T12:30:18.716Z","createdAt":"2019-11-04T12:30:18.716Z","message_id":"b27b2706-a32c-46ca-affb-fa50eac1bd7f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"13":{"_id":"5dc01a2b26c7dd11b4ae7432","__v":0,"updatedAt":"2019-11-04T12:31:39.581Z","createdAt":"2019-11-04T12:31:39.581Z","message_id":"a6d6846d-4487-400c-9eb7-aa4298b6c9d7","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"14":{"_id":"5dc01a6bd5688611d3adcc91","__v":0,"updatedAt":"2019-11-04T12:32:43.132Z","createdAt":"2019-11-04T12:32:43.132Z","message_id":"2733ba1d-3195-4a2f-bf23-7f55d50ae1e0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"15":{"_id":"5dc01a7ed5688611d3adcc93","__v":0,"updatedAt":"2019-11-04T12:33:02.201Z","createdAt":"2019-11-04T12:33:02.201Z","message_id":"543fef92-1105-4277-a070-9dfcdf9df910","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"16":{"_id":"5dc01a90d5688611d3adcc95","__v":0,"updatedAt":"2019-11-04T12:33:20.557Z","createdAt":"2019-11-04T12:33:20.557Z","message_id":"b3eaaaf8-9928-4b41-81b0-145f6c9d44f4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"17":{"_id":"5dc01aded5688611d3adcc97","__v":0,"updatedAt":"2019-11-04T12:34:38.077Z","createdAt":"2019-11-04T12:34:38.077Z","message_id":"7fc5016b-111c-43a0-b00e-099afade8558","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","text":"text","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"18":{"_id":"5dc1b95f88f384388c98326c","__v":0,"updatedAt":"2019-11-05T18:03:11.188Z","createdAt":"2019-11-05T18:03:11.188Z","message_id":"10fb938f-320a-4a29-93ec-b9d6f6c4deac","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"19":{"_id":"5dc1b97688f384388c98326e","__v":0,"updatedAt":"2019-11-05T18:03:34.513Z","createdAt":"2019-11-05T18:03:34.513Z","message_id":"71437cba-1995-408d-8f3e-f26c8a4be269","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"20":{"_id":"5dc1b9a2d118d0389b9ae522","__v":0,"updatedAt":"2019-11-05T18:04:18.454Z","createdAt":"2019-11-05T18:04:18.454Z","message_id":"f2b74913-b628-41a0-b63d-d10c1f1e492d","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"21":{"_id":"5dc1b9a9d118d0389b9ae524","__v":0,"updatedAt":"2019-11-05T18:04:25.250Z","createdAt":"2019-11-05T18:04:25.250Z","message_id":"47526150-2762-421e-8dbd-d7ae0d91dcf2","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"22":{"_id":"5dc1be577d3acb39183d391a","__v":0,"updatedAt":"2019-11-05T18:24:23.290Z","createdAt":"2019-11-05T18:24:23.290Z","message_id":"1415153d-33c9-4fbf-bc7b-f8f7ac03b6b4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi88","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"23":{"_id":"5dc1c00fbe115b4013e9832c","__v":0,"updatedAt":"2019-11-05T18:31:43.450Z","createdAt":"2019-11-05T18:31:43.450Z","message_id":"f4dc96cf-255e-4c4f-8d2f-d51c7124fcda","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi89","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"24":{"_id":"5dc1c0fbbe115b4013e9832e","__v":0,"updatedAt":"2019-11-05T18:35:39.584Z","createdAt":"2019-11-05T18:35:39.584Z","message_id":"2b674d61-62b6-40a9-a596-d06507be33e6","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi891","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"25":{"_id":"5dc1c296be37624070660d6f","__v":0,"updatedAt":"2019-11-05T18:42:30.829Z","createdAt":"2019-11-05T18:42:30.829Z","message_id":"edcedb60-094a-47a4-a4e2-c4388c3712c1","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi892","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"26":{"_id":"5dc52bbdc58f540d09832dde","__v":0,"updatedAt":"2019-11-08T08:47:57.803Z","createdAt":"2019-11-08T08:47:57.803Z","message_id":"d6df222b-9daf-42ad-9ba5-75056ffb19c0","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"27":{"_id":"5dc52bcac58f540d09832de0","__v":0,"updatedAt":"2019-11-08T08:48:10.856Z","createdAt":"2019-11-08T08:48:10.856Z","message_id":"bd9d38e8-384d-4f3f-8cc7-40ab4d88796c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"28":{"_id":"5dc52d519b4dd00d818fb8c1","__v":0,"updatedAt":"2019-11-08T08:54:41.349Z","createdAt":"2019-11-08T08:54:41.349Z","message_id":"64f27334-6081-4767-b6bf-4a1c346f71cc","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi55","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"29":{"_id":"5dc52da9288d580d92475ada","__v":0,"updatedAt":"2019-11-08T08:56:09.659Z","createdAt":"2019-11-08T08:56:09.659Z","message_id":"5ea27ef5-5b17-43bc-ae54-22b211da2799","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"30":{"_id":"5dc52ecd288d580d92475adc","__v":0,"updatedAt":"2019-11-08T09:01:01.198Z","createdAt":"2019-11-08T09:01:01.198Z","message_id":"c992b8f3-08db-4804-a014-6a011330eac5","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"31":{"_id":"5dc52f6b288d580d92475ade","__v":0,"updatedAt":"2019-11-08T09:03:39.858Z","createdAt":"2019-11-08T09:03:39.858Z","message_id":"591e5d37-fc6d-409f-b90e-87d1b99af0d4","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"32":{"_id":"5dc5312b2e4b2e0dbd5bf7b0","__v":0,"updatedAt":"2019-11-08T09:11:07.023Z","createdAt":"2019-11-08T09:11:07.023Z","message_id":"3bc5ccfa-2b08-4718-a720-5106c7b30c36","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"33":{"_id":"5dc531332e4b2e0dbd5bf7b2","__v":0,"updatedAt":"2019-11-08T09:11:14.994Z","createdAt":"2019-11-08T09:11:14.994Z","message_id":"097ffaad-0cda-4819-9905-5b87378d0824","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"34":{"_id":"5dc535de2fb5b40e69edc9d2","__v":0,"updatedAt":"2019-11-08T09:31:10.456Z","createdAt":"2019-11-08T09:31:10.456Z","message_id":"bf75a0c1-47f4-46b7-aef9-029aa03adf8f","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"35":{"_id":"5dc536202fb5b40e69edc9d4","__v":0,"updatedAt":"2019-11-08T09:32:15.991Z","createdAt":"2019-11-08T09:32:15.991Z","message_id":"ce0ef282-118a-4dd7-a2ec-bc759366798e","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi7713779","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"36":{"_id":"5dc552d52fb5b40e69edc9d6","__v":0,"updatedAt":"2019-11-08T11:34:45.168Z","createdAt":"2019-11-08T11:34:45.168Z","message_id":"0d272eb9-2eb0-46be-8ce4-2ca83cb423bf","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi77137790","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"37":{"_id":"5dc552e02fb5b40e69edc9d8","__v":0,"updatedAt":"2019-11-08T11:34:56.530Z","createdAt":"2019-11-08T11:34:56.530Z","message_id":"7abf3b78-48df-4f05-b08b-2af2f5b0e436","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi771377909","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"38":{"_id":"5dc553ffbc87e80f8cdb5d54","__v":0,"updatedAt":"2019-11-08T11:39:43.221Z","createdAt":"2019-11-08T11:39:43.221Z","message_id":"33787f04-851e-4603-8157-ecca82c7e684","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"39":{"_id":"5dc5784cf8dab411caa14c1e","__v":0,"updatedAt":"2019-11-08T14:14:36.193Z","createdAt":"2019-11-08T14:14:36.193Z","message_id":"e98eebaa-68bd-47f7-a11b-6bf394060777","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"40":{"_id":"5dc5787d52f04611e1862afd","__v":0,"updatedAt":"2019-11-08T14:15:25.065Z","createdAt":"2019-11-08T14:15:25.065Z","message_id":"0e8b3e35-99bf-49db-ab22-e36b386781ca","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"},"41":{"_id":"5dc579e7e554fe1238f33e3b","__v":0,"updatedAt":"2019-11-08T14:21:27.034Z","createdAt":"2019-11-08T14:21:27.034Z","message_id":"0f458ea9-c69d-40dc-b582-b4225724546c","sender_id":"sendid","sender_fullname":"SFN","recipient_id":"RFN","recipient_fullname":"RFN","text":"hi44","app_id":"123","createdBy":"sendid","path":"/apps/123/users/RFN/messages/sendid","status":"delivered","channel_type":"direct","type":"text"}}
error: uncaughtException: EIO: i/o error, write
Error: EIO: i/o error, write
    at writeSync (fs.js:573:3)
    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)
    at doWrite (_stream_writable.js:415:12)
    at writeOrBuffer (_stream_writable.js:399:5)
    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)
    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)
    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)
    at DerivedLogger.emit (events.js:203:15)
    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)
    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)
    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)
    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32) {"error":{"errno":-5,"syscall":"write","code":"EIO"},"stack":"Error: EIO: i/o error, write\n    at writeSync (fs.js:573:3)\n    at SyncWriteStream._write (internal/fs/sync_write_stream.js:22:3)\n    at doWrite (_stream_writable.js:415:12)\n    at writeOrBuffer (_stream_writable.js:399:5)\n    at SyncWriteStream.Writable.write (_stream_writable.js:299:11)\n    at Console.log (/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js:79:23)\n    at Console._write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js:102:17)\n    at doWrite (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)\n    at writeOrBuffer (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)\n    at Console.Writable.write (/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)\n    at DerivedLogger.ondata (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:640:20)\n    at DerivedLogger.emit (events.js:203:15)\n    at addChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:297:12)\n    at readableAddChunk (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:279:11)\n    at DerivedLogger.Readable.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:240:10)\n    at DerivedLogger.Transform.push (/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js:139:32)","exception":true,"date":"Fri Nov 08 2019 16:49:06 GMT+0000 (Coordinated Universal Time)","process":{"pid":5768,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":53641216,"heapTotal":34848768,"heapUsed":15487680,"external":18297099}},"os":{"loadavg":[0,0,0],"uptime":30193},"trace":[{"column":3,"file":"fs.js","function":"writeSync","line":573,"method":null,"native":false},{"column":3,"file":"internal/fs/sync_write_stream.js","function":"SyncWriteStream._write","line":22,"method":"_write","native":false},{"column":12,"file":"_stream_writable.js","function":"doWrite","line":415,"method":null,"native":false},{"column":5,"file":"_stream_writable.js","function":"writeOrBuffer","line":399,"method":null,"native":false},{"column":11,"file":"_stream_writable.js","function":"SyncWriteStream.Writable.write","line":299,"method":"write","native":false},{"column":23,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/lib/winston/transports/console.js","function":"Console.log","line":79,"method":"log","native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/index.js","function":"Console._write","line":102,"method":"_write","native":false},{"column":64,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"doWrite","line":428,"method":null,"native":false},{"column":5,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"writeOrBuffer","line":417,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js","function":"Console.Writable.write","line":334,"method":"write","native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.ondata","line":640,"method":"ondata","native":false},{"column":15,"file":"events.js","function":"DerivedLogger.emit","line":203,"method":"emit","native":false},{"column":12,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"addChunk","line":297,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"readableAddChunk","line":279,"method":null,"native":false},{"column":10,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js","function":"DerivedLogger.Readable.push","line":240,"method":"push","native":false},{"column":32,"file":"/home/ubuntu/dev/chat21-server/node_modules/winston/node_modules/readable-stream/lib/_stream_transform.js","function":"DerivedLogger.Transform.push","line":139,"method":"push","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: ::ffff:127.0.0.1 - - [08/Nov/2019:18:13:26 +0000] "POST /auth/signup HTTP/1.1" 500 1868 "-" "curl/7.58.0"

info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
error: undefined
info: ::ffff:127.0.0.1 - - [08/Nov/2019:18:15:09 +0000] "POST /auth/signup HTTP/1.1" 500 1868 "-" "curl/7.58.0"

error: undefined
info: ::ffff:127.0.0.1 - - [08/Nov/2019:18:18:35 +0000] "POST /auth/signup HTTP/1.1" 500 1914 "-" "curl/7.58.0"

error: undefined
info: ::ffff:127.0.0.1 - - [08/Nov/2019:18:18:56 +0000] "POST /auth/signup HTTP/1.1" 500 2822 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: onConnectCallback 
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: Error registering new userdocument must have an _id before saving {"name":"MongooseError","stack":"MongooseError: document must have an _id before saving\n    at new MongooseError (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/error/index.js:12:11)\n    at Timeout._onTimeout (/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:148:18)\n    at ontimeout (timers.js:436:11)\n    at tryOnTimeout (timers.js:300:5)\n    at listOnTimeout (timers.js:263:5)\n    at Timer.processTimers (timers.js:223:10)"}
error: uncaughtException: reject is not defined
ReferenceError: reject is not defined
    at /home/ubuntu/dev/chat21-server/routes/auth.js:36:25
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: reject is not defined\n    at /home/ubuntu/dev/chat21-server/routes/auth.js:36:25\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Fri Nov 08 2019 18:19:58 GMT+0000 (Coordinated Universal Time)","process":{"pid":6206,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":70569984,"heapTotal":40148992,"heapUsed":26074944,"external":18598267}},"os":{"loadavg":[0.080078125,0.0166015625,0.00537109375],"uptime":35644},"trace":[{"column":25,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":36,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":175,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: ::ffff:127.0.0.1 - - [08/Nov/2019:18:19:58 +0000] "POST /auth/signup HTTP/1.1" 200 76 "-" "curl/7.58.0"

info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
error: Error registering new userE11000 duplicate key error collection: test.users index: email_1 dup key: { : "andrea.leo@f21.it" } {"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: test.users index: email_1 dup key: { : \"andrea.leo@f21.it\" }","op":{"updatedAt":"2019-11-08T18:20:33.881Z","createdAt":"2019-11-08T18:20:33.881Z","email":"andrea.leo@f21.it","password":"$2a$10$OrqIuxS2iDOZ0OmXc2fvyeo/qDYT57Q3ifOIS3d24PPrjGpAk9PaK","emailverified":false,"_id":"5dc5b1f158406b1854aaa54c","__v":0}}
error: uncaughtException: reject is not defined
ReferenceError: reject is not defined
    at /home/ubuntu/dev/chat21-server/routes/auth.js:36:25
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16
    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17
    at process._tickCallback (internal/process/next_tick.js:61:11) {"error":{},"stack":"ReferenceError: reject is not defined\n    at /home/ubuntu/dev/chat21-server/routes/auth.js:36:25\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js:4074:16\n    at /home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js:175:17\n    at process._tickCallback (internal/process/next_tick.js:61:11)","exception":true,"date":"Fri Nov 08 2019 18:20:34 GMT+0000 (Coordinated Universal Time)","process":{"pid":6228,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":70467584,"heapTotal":40148992,"heapUsed":26539016,"external":18589319}},"os":{"loadavg":[0.04296875,0.01318359375,0.001953125],"uptime":35680},"trace":[{"column":25,"file":"/home/ubuntu/dev/chat21-server/routes/auth.js","function":null,"line":36,"method":null,"native":false},{"column":16,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/model.js","function":null,"line":4074,"method":null,"native":false},{"column":17,"file":"/home/ubuntu/dev/chat21-server/node_modules/mongoose/lib/services/model/applyHooks.js","function":null,"line":175,"method":null,"native":false},{"column":11,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":61,"method":"_tickCallback","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '/../config/winston'
Error: Cannot find module '/../config/winston'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/subscription.js:4:15)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:48:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '/../config/winston'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/routes/subscription.js:4:15)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:48:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Nov 11 2019 13:55:33 GMT+0000 (Coordinated Universal Time)","process":{"pid":2529,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56463360,"heapTotal":34848768,"heapUsed":20323944,"external":18946374}},"os":{"loadavg":[0,0,0],"uptime":1135},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":15,"file":"/home/ubuntu/dev/chat21-server/routes/subscription.js","function":null,"line":4,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":48,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
info: message2Event init
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module './services/subscriptionNotifier'
Error: Cannot find module './services/subscriptionNotifier'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:50:28)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module './services/subscriptionNotifier'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:50:28)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/bin/www:7:11)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Nov 11 2019 14:07:43 GMT+0000 (Coordinated Universal Time)","process":{"pid":2662,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":56991744,"heapTotal":34848768,"heapUsed":20195776,"external":18946374}},"os":{"loadavg":[0,0,0],"uptime":1865},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":28,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":50,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":11,"file":"/home/ubuntu/dev/chat21-server/bin/www","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
info: databaseUri: mongodb://test:xKKv0lWW6Yxhemw1@cluster0-shard-00-00-h8ftd.mongodb.net:27017,cluster0-shard-00-01-h8ftd.mongodb.net:27017,cluster0-shard-00-02-h8ftd.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true&w=majority
info: autoIndex: true
error: uncaughtException: Cannot find module '../events/groupEvent'
Error: Cannot find module '../events/groupEvent'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/services/SubscriptionNotifier.js:4:20)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:50:28)
    at Module._compile (internal/modules/cjs/loader.js:778:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32) {"error":{"code":"MODULE_NOT_FOUND"},"stack":"Error: Cannot find module '../events/groupEvent'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/services/SubscriptionNotifier.js:4:20)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.<anonymous> (/home/ubuntu/dev/chat21-server/app.js:50:28)\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)","exception":true,"date":"Mon Nov 11 2019 14:11:45 GMT+0000 (Coordinated Universal Time)","process":{"pid":2701,"uid":1000,"gid":1000,"cwd":"/home/ubuntu/dev/chat21-server","execPath":"/usr/bin/node","version":"v10.17.0","argv":["/usr/bin/node","/home/ubuntu/dev/chat21-server/bin/www"],"memoryUsage":{"rss":65564672,"heapTotal":38531072,"heapUsed":23263832,"external":18344380}},"os":{"loadavg":[0.080078125,0.0166015625,0.00537109375],"uptime":2107},"trace":[{"column":15,"file":"internal/modules/cjs/loader.js","function":"Module._resolveFilename","line":636,"method":"_resolveFilename","native":false},{"column":25,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":562,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":20,"file":"/home/ubuntu/dev/chat21-server/services/SubscriptionNotifier.js","function":null,"line":4,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false},{"column":12,"file":"internal/modules/cjs/loader.js","function":"tryModuleLoad","line":593,"method":null,"native":false},{"column":3,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":585,"method":"_load","native":false},{"column":17,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":692,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":25,"method":null,"native":false},{"column":28,"file":"/home/ubuntu/dev/chat21-server/app.js","function":null,"line":50,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":778,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":789,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":653,"method":"load","native":false}]}
